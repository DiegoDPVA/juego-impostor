(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fa={exports:{}},Ii={},za={exports:{}},q={};var bf;function E_(){if(bf)return q;bf=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=C&&E[C]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function Q(E,x,Y){this.props=E,this.context=x,this.refs=V,this.updater=Y||A}Q.prototype.isReactComponent={},Q.prototype.setState=function(E,x){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,x,"setState")},Q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Re(){}Re.prototype=Q.prototype;function Ie(E,x,Y){this.props=E,this.context=x,this.refs=V,this.updater=Y||A}var Pe=Ie.prototype=new Re;Pe.constructor=Ie,L(Pe,Q.prototype),Pe.isPureReactComponent=!0;var Te=Array.isArray,Ve=Object.prototype.hasOwnProperty,$e={current:null},Xe={key:!0,ref:!0,__self:!0,__source:!0};function ft(E,x,Y){var J,ne={},re=null,ce=null;if(x!=null)for(J in x.ref!==void 0&&(ce=x.ref),x.key!==void 0&&(re=""+x.key),x)Ve.call(x,J)&&!Xe.hasOwnProperty(J)&&(ne[J]=x[J]);var le=arguments.length-2;if(le===1)ne.children=Y;else if(1<le){for(var _e=Array(le),pt=0;pt<le;pt++)_e[pt]=arguments[pt+2];ne.children=_e}if(E&&E.defaultProps)for(J in le=E.defaultProps,le)ne[J]===void 0&&(ne[J]=le[J]);return{$$typeof:i,type:E,key:re,ref:ce,props:ne,_owner:$e.current}}function bt(E,x){return{$$typeof:i,type:E.type,key:x,ref:E.ref,props:E.props,_owner:E._owner}}function zt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function on(E){var x={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return x[Y]})}var vt=/\/+/g;function Je(E,x){return typeof E=="object"&&E!==null&&E.key!=null?on(""+E.key):x.toString(36)}function ht(E,x,Y,J,ne){var re=typeof E;(re==="undefined"||re==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(re){case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case i:case t:ce=!0}}if(ce)return ce=E,ne=ne(ce),E=J===""?"."+Je(ce,0):J,Te(ne)?(Y="",E!=null&&(Y=E.replace(vt,"$&/")+"/"),ht(ne,x,Y,"",function(pt){return pt})):ne!=null&&(zt(ne)&&(ne=bt(ne,Y+(!ne.key||ce&&ce.key===ne.key?"":(""+ne.key).replace(vt,"$&/")+"/")+E)),x.push(ne)),1;if(ce=0,J=J===""?".":J+":",Te(E))for(var le=0;le<E.length;le++){re=E[le];var _e=J+Je(re,le);ce+=ht(re,x,Y,_e,ne)}else if(_e=w(E),typeof _e=="function")for(E=_e.call(E),le=0;!(re=E.next()).done;)re=re.value,_e=J+Je(re,le++),ce+=ht(re,x,Y,_e,ne);else if(re==="object")throw x=String(E),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return ce}function Ce(E,x,Y){if(E==null)return E;var J=[],ne=0;return ht(E,J,"","",function(re){return x.call(Y,re,ne++)}),J}function Ee(E){if(E._status===-1){var x=E._result;x=x(),x.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=x)}if(E._status===1)return E._result.default;throw E._result}var oe={current:null},M={transition:null},$={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:M,ReactCurrentOwner:$e};function U(){throw Error("act(...) is not supported in production builds of React.")}return q.Children={map:Ce,forEach:function(E,x,Y){Ce(E,function(){x.apply(this,arguments)},Y)},count:function(E){var x=0;return Ce(E,function(){x++}),x},toArray:function(E){return Ce(E,function(x){return x})||[]},only:function(E){if(!zt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},q.Component=Q,q.Fragment=r,q.Profiler=a,q.PureComponent=Ie,q.StrictMode=o,q.Suspense=m,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,q.act=U,q.cloneElement=function(E,x,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var J=L({},E.props),ne=E.key,re=E.ref,ce=E._owner;if(x!=null){if(x.ref!==void 0&&(re=x.ref,ce=$e.current),x.key!==void 0&&(ne=""+x.key),E.type&&E.type.defaultProps)var le=E.type.defaultProps;for(_e in x)Ve.call(x,_e)&&!Xe.hasOwnProperty(_e)&&(J[_e]=x[_e]===void 0&&le!==void 0?le[_e]:x[_e])}var _e=arguments.length-2;if(_e===1)J.children=Y;else if(1<_e){le=Array(_e);for(var pt=0;pt<_e;pt++)le[pt]=arguments[pt+2];J.children=le}return{$$typeof:i,type:E.type,key:ne,ref:re,props:J,_owner:ce}},q.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},q.createElement=ft,q.createFactory=function(E){var x=ft.bind(null,E);return x.type=E,x},q.createRef=function(){return{current:null}},q.forwardRef=function(E){return{$$typeof:p,render:E}},q.isValidElement=zt,q.lazy=function(E){return{$$typeof:I,_payload:{_status:-1,_result:E},_init:Ee}},q.memo=function(E,x){return{$$typeof:_,type:E,compare:x===void 0?null:x}},q.startTransition=function(E){var x=M.transition;M.transition={};try{E()}finally{M.transition=x}},q.unstable_act=U,q.useCallback=function(E,x){return oe.current.useCallback(E,x)},q.useContext=function(E){return oe.current.useContext(E)},q.useDebugValue=function(){},q.useDeferredValue=function(E){return oe.current.useDeferredValue(E)},q.useEffect=function(E,x){return oe.current.useEffect(E,x)},q.useId=function(){return oe.current.useId()},q.useImperativeHandle=function(E,x,Y){return oe.current.useImperativeHandle(E,x,Y)},q.useInsertionEffect=function(E,x){return oe.current.useInsertionEffect(E,x)},q.useLayoutEffect=function(E,x){return oe.current.useLayoutEffect(E,x)},q.useMemo=function(E,x){return oe.current.useMemo(E,x)},q.useReducer=function(E,x,Y){return oe.current.useReducer(E,x,Y)},q.useRef=function(E){return oe.current.useRef(E)},q.useState=function(E){return oe.current.useState(E)},q.useSyncExternalStore=function(E,x,Y){return oe.current.useSyncExternalStore(E,x,Y)},q.useTransition=function(){return oe.current.useTransition()},q.version="18.3.1",q}var $f;function mu(){return $f||($f=1,za.exports=E_()),za.exports}var Gf;function S_(){if(Gf)return Ii;Gf=1;var i=mu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var I,C={},w=null,A=null;_!==void 0&&(w=""+_),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(A=m.ref);for(I in m)o.call(m,I)&&!c.hasOwnProperty(I)&&(C[I]=m[I]);if(p&&p.defaultProps)for(I in m=p.defaultProps,m)C[I]===void 0&&(C[I]=m[I]);return{$$typeof:t,type:p,key:w,ref:A,props:C,_owner:a.current}}return Ii.Fragment=r,Ii.jsx=f,Ii.jsxs=f,Ii}var Qf;function k_(){return Qf||(Qf=1,Fa.exports=S_()),Fa.exports}var Tr=k_(),tt=mu();const I_=Qh(tt);var co={},Ua={exports:{}},at={},Ba={exports:{}},Wa={};var Kf;function T_(){return Kf||(Kf=1,(function(i){function t(M,$){var U=M.length;M.push($);e:for(;0<U;){var E=U-1>>>1,x=M[E];if(0<a(x,$))M[E]=$,M[U]=x,U=E;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var $=M[0],U=M.pop();if(U!==$){M[0]=U;e:for(var E=0,x=M.length,Y=x>>>1;E<Y;){var J=2*(E+1)-1,ne=M[J],re=J+1,ce=M[re];if(0>a(ne,U))re<x&&0>a(ce,ne)?(M[E]=ce,M[re]=U,E=re):(M[E]=ne,M[J]=U,E=J);else if(re<x&&0>a(ce,U))M[E]=ce,M[re]=U,E=re;else break e}}return $}function a(M,$){var U=M.sortIndex-$.sortIndex;return U!==0?U:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],I=1,C=null,w=3,A=!1,L=!1,V=!1,Q=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Pe(M){for(var $=r(_);$!==null;){if($.callback===null)o(_);else if($.startTime<=M)o(_),$.sortIndex=$.expirationTime,t(m,$);else break;$=r(_)}}function Te(M){if(V=!1,Pe(M),!L)if(r(m)!==null)L=!0,Ee(Ve);else{var $=r(_);$!==null&&oe(Te,$.startTime-M)}}function Ve(M,$){L=!1,V&&(V=!1,Re(ft),ft=-1),A=!0;var U=w;try{for(Pe($),C=r(m);C!==null&&(!(C.expirationTime>$)||M&&!on());){var E=C.callback;if(typeof E=="function"){C.callback=null,w=C.priorityLevel;var x=E(C.expirationTime<=$);$=i.unstable_now(),typeof x=="function"?C.callback=x:C===r(m)&&o(m),Pe($)}else o(m);C=r(m)}if(C!==null)var Y=!0;else{var J=r(_);J!==null&&oe(Te,J.startTime-$),Y=!1}return Y}finally{C=null,w=U,A=!1}}var $e=!1,Xe=null,ft=-1,bt=5,zt=-1;function on(){return!(i.unstable_now()-zt<bt)}function vt(){if(Xe!==null){var M=i.unstable_now();zt=M;var $=!0;try{$=Xe(!0,M)}finally{$?Je():($e=!1,Xe=null)}}else $e=!1}var Je;if(typeof Ie=="function")Je=function(){Ie(vt)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,Ce=ht.port2;ht.port1.onmessage=vt,Je=function(){Ce.postMessage(null)}}else Je=function(){Q(vt,0)};function Ee(M){Xe=M,$e||($e=!0,Je())}function oe(M,$){ft=Q(function(){M(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){L||A||(L=!0,Ee(Ve))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var U=w;w=$;try{return M()}finally{w=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=w;w=M;try{return $()}finally{w=U}},i.unstable_scheduleCallback=function(M,$,U){var E=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,M){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=U+x,M={id:I++,callback:$,priorityLevel:M,startTime:U,expirationTime:x,sortIndex:-1},U>E?(M.sortIndex=U,t(_,M),r(m)===null&&M===r(_)&&(V?(Re(ft),ft=-1):V=!0,oe(Te,U-E))):(M.sortIndex=x,t(m,M),L||A||(L=!0,Ee(Ve))),M},i.unstable_shouldYield=on,i.unstable_wrapCallback=function(M){var $=w;return function(){var U=w;w=$;try{return M.apply(this,arguments)}finally{w=U}}}})(Wa)),Wa}var Yf;function N_(){return Yf||(Yf=1,Ba.exports=T_()),Ba.exports}var qf;function x_(){if(qf)return at;qf=1;var i=mu(),t=N_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},C={};function w(e){return m.call(C,e)?!0:m.call(I,e)?!1:_.test(e)?C[e]=!0:(I[e]=!0,!1)}function A(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,s,l){if(n===null||typeof n>"u"||A(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function V(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Q[e]=new V(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Q[n]=new V(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Q[e]=new V(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Q[e]=new V(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Q[e]=new V(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Q[e]=new V(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Q[e]=new V(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Q[e]=new V(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Q[e]=new V(e,5,!1,e.toLowerCase(),null,!1,!1)});var Re=/[\-:]([a-z])/g;function Ie(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Re,Ie);Q[n]=new V(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Re,Ie);Q[n]=new V(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Re,Ie);Q[n]=new V(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Q[e]=new V(e,1,!1,e.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Q[e]=new V(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pe(e,n,s,l){var u=Q.hasOwnProperty(n)?Q[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,s,u,l)&&(s=null),l||u===null?w(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ve=Symbol.for("react.element"),$e=Symbol.for("react.portal"),Xe=Symbol.for("react.fragment"),ft=Symbol.for("react.strict_mode"),bt=Symbol.for("react.profiler"),zt=Symbol.for("react.provider"),on=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),M=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,E;function x(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var Y=!1;function J(e,n){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var u=T.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,g=d.length-1;1<=h&&0<=g&&u[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(u[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||u[h]!==d[g]){var y=`
`+u[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function ne(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xe:return"Fragment";case $e:return"Portal";case bt:return"Profiler";case ft:return"StrictMode";case Je:return"Suspense";case ht:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case on:return(e.displayName||"Context")+".Consumer";case zt:return(e._context.displayName||"Context")+".Provider";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case Ee:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}function ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===ft?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pt(e){var n=_e(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function es(e){e._valueTracker||(e._valueTracker=pt(e))}function Yu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=_e(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jo(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function qu(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=le(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xu(e,n){n=n.checked,n!=null&&Pe(e,"checked",n,!1)}function bo(e,n){Xu(e,n);var s=le(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?$o(e,n.type,s):n.hasOwnProperty("defaultValue")&&$o(e,n.type,le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ju(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function $o(e,n,s){(n!=="number"||ts(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Wr=Array.isArray;function er(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+le(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Go(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zu(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Wr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:le(s)}}function ec(e,n){var s=le(n.value),l=le(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function tc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,rc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Hr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(e){Tm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Vr[n]=Vr[e]})});function ic(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Vr.hasOwnProperty(e)&&Vr[e]?(""+n).trim():n+"px"}function sc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=ic(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Nm=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(e,n){if(n){if(Nm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Yo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=null;function Xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,tr=null,nr=null;function oc(e){if(e=ci(e)){if(typeof Jo!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Is(n),Jo(e.stateNode,e.type,n))}}function lc(e){tr?nr?nr.push(e):nr=[e]:tr=e}function ac(){if(tr){var e=tr,n=nr;if(nr=tr=null,oc(e),n)for(e=0;e<n.length;e++)oc(n[e])}}function uc(e,n){return e(n)}function cc(){}var Zo=!1;function dc(e,n,s){if(Zo)return e(n,s);Zo=!0;try{return uc(e,n,s)}finally{Zo=!1,(tr!==null||nr!==null)&&(cc(),ac())}}function jr(e,n){var s=e.stateNode;if(s===null)return null;var l=Is(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var el=!1;if(p)try{var br={};Object.defineProperty(br,"passive",{get:function(){el=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{el=!1}function xm(e,n,s,l,u,d,h,g,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(R){this.onError(R)}}var $r=!1,rs=null,is=!1,tl=null,Rm={onError:function(e){$r=!0,rs=e}};function Pm(e,n,s,l,u,d,h,g,y){$r=!1,rs=null,xm.apply(Rm,arguments)}function Dm(e,n,s,l,u,d,h,g,y){if(Pm.apply(this,arguments),$r){if($r){var T=rs;$r=!1,rs=null}else throw Error(r(198));is||(is=!0,tl=T)}}function On(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function fc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function hc(e){if(On(e)!==e)throw Error(r(188))}function Am(e){var n=e.alternate;if(!n){if(n=On(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return hc(u),e;if(d===l)return hc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,g=u.child;g;){if(g===s){h=!0,s=u,l=d;break}if(g===l){h=!0,l=u,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=u;break}if(g===l){h=!0,l=d,s=u;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function pc(e){return e=Am(e),e!==null?mc(e):null}function mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=mc(e);if(n!==null)return n;e=e.sibling}return null}var gc=t.unstable_scheduleCallback,_c=t.unstable_cancelCallback,Om=t.unstable_shouldYield,Mm=t.unstable_requestPaint,Ne=t.unstable_now,Lm=t.unstable_getCurrentPriorityLevel,nl=t.unstable_ImmediatePriority,yc=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,Fm=t.unstable_LowPriority,vc=t.unstable_IdlePriority,os=null,Ut=null;function zm(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(os,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Wm,Um=Math.log,Bm=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Um(e)/Bm|0)|0}var ls=64,as=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function us(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~u;g!==0?l=Gr(g):(d&=h,d!==0&&(l=Gr(d)))}else h=s&~u,h!==0?l=Gr(h):d!==0&&(l=Gr(d));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if((l&4)!==0&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Tt(n),u=1<<s,l|=e[s],n&=~u;return l}function Hm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Tt(d),g=1<<h,y=u[h];y===-1?((g&s)===0||(g&l)!==0)&&(u[h]=Hm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wc(){var e=ls;return ls<<=1,(ls&4194240)===0&&(ls=64),e}function il(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Qr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Tt(n),e[n]=s}function jm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Tt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function sl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Tt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var ae=0;function Cc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ec,ol,Sc,kc,Ic,ll=!1,cs=[],ln=null,an=null,un=null,Kr=new Map,Yr=new Map,cn=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(e,n){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(n.pointerId)}}function qr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=ci(n),n!==null&&ol(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function $m(e,n,s,l,u){switch(n){case"focusin":return ln=qr(ln,e,n,s,l,u),!0;case"dragenter":return an=qr(an,e,n,s,l,u),!0;case"mouseover":return un=qr(un,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Kr.set(d,qr(Kr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Yr.set(d,qr(Yr.get(d)||null,e,n,s,l,u)),!0}return!1}function Nc(e){var n=Mn(e.target);if(n!==null){var s=On(n);if(s!==null){if(n=s.tag,n===13){if(n=fc(s),n!==null){e.blockedOn=n,Ic(e.priority,function(){Sc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ul(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);qo=l,s.target.dispatchEvent(l),qo=null}else return n=ci(s),n!==null&&ol(n),e.blockedOn=s,!1;n.shift()}return!0}function xc(e,n,s){ds(e)&&s.delete(n)}function Gm(){ll=!1,ln!==null&&ds(ln)&&(ln=null),an!==null&&ds(an)&&(an=null),un!==null&&ds(un)&&(un=null),Kr.forEach(xc),Yr.forEach(xc)}function Xr(e,n){e.blockedOn===n&&(e.blockedOn=null,ll||(ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gm)))}function Jr(e){function n(u){return Xr(u,e)}if(0<cs.length){Xr(cs[0],e);for(var s=1;s<cs.length;s++){var l=cs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(ln!==null&&Xr(ln,e),an!==null&&Xr(an,e),un!==null&&Xr(un,e),Kr.forEach(n),Yr.forEach(n),s=0;s<cn.length;s++)l=cn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<cn.length&&(s=cn[0],s.blockedOn===null);)Nc(s),s.blockedOn===null&&cn.shift()}var rr=Te.ReactCurrentBatchConfig,fs=!0;function Qm(e,n,s,l){var u=ae,d=rr.transition;rr.transition=null;try{ae=1,al(e,n,s,l)}finally{ae=u,rr.transition=d}}function Km(e,n,s,l){var u=ae,d=rr.transition;rr.transition=null;try{ae=4,al(e,n,s,l)}finally{ae=u,rr.transition=d}}function al(e,n,s,l){if(fs){var u=ul(e,n,s,l);if(u===null)Tl(e,n,l,hs,s),Tc(e,l);else if($m(u,e,n,s,l))l.stopPropagation();else if(Tc(e,l),n&4&&-1<bm.indexOf(e)){for(;u!==null;){var d=ci(u);if(d!==null&&Ec(d),d=ul(e,n,s,l),d===null&&Tl(e,n,l,hs,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Tl(e,n,l,null,s)}}var hs=null;function ul(e,n,s,l){if(hs=null,e=Xo(l),e=Mn(e),e!==null)if(n=On(e),n===null)e=null;else if(s=n.tag,s===13){if(e=fc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return hs=e,null}function Rc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case nl:return 1;case yc:return 4;case ss:case Fm:return 16;case vc:return 536870912;default:return 16}default:return 16}}var dn=null,cl=null,ps=null;function Pc(){if(ps)return ps;var e,n=cl,s=n.length,l,u="value"in dn?dn.value:dn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return ps=u.slice(e,1<l?1-l:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Dc(){return!1}function mt(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gs:Dc,this.isPropagationStopped=Dc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),n}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=mt(ir),Zr=U({},ir,{view:0,detail:0}),Ym=mt(Zr),fl,hl,ei,_s=U({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(fl=e.screenX-ei.screenX,hl=e.screenY-ei.screenY):hl=fl=0,ei=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Ac=mt(_s),qm=U({},_s,{dataTransfer:0}),Xm=mt(qm),Jm=U({},Zr,{relatedTarget:0}),pl=mt(Jm),Zm=U({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=mt(Zm),tg=U({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=mt(tg),rg=U({},ir,{data:0}),Oc=mt(rg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=og[e])?!!n[e]:!1}function ml(){return lg}var ag=U({},Zr,{key:function(e){if(e.key){var n=ig[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ug=mt(ag),cg=U({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=mt(cg),dg=U({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),fg=mt(dg),hg=U({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=mt(hg),mg=U({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=mt(mg),_g=[9,13,27,32],gl=p&&"CompositionEvent"in window,ti=null;p&&"documentMode"in document&&(ti=document.documentMode);var yg=p&&"TextEvent"in window&&!ti,Lc=p&&(!gl||ti&&8<ti&&11>=ti),Fc=" ",zc=!1;function Uc(e,n){switch(e){case"keyup":return _g.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function vg(e,n){switch(e){case"compositionend":return Bc(n);case"keypress":return n.which!==32?null:(zc=!0,Fc);case"textInput":return e=n.data,e===Fc&&zc?null:e;default:return null}}function wg(e,n){if(sr)return e==="compositionend"||!gl&&Uc(e,n)?(e=Pc(),ps=cl=dn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lc&&n.locale!=="ko"?null:n.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Cg[e.type]:n==="textarea"}function Hc(e,n,s,l){lc(l),n=Es(n,"onChange"),0<n.length&&(s=new dl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ni=null,ri=null;function Eg(e){sd(e,0)}function ys(e){var n=cr(e);if(Yu(n))return e}function Sg(e,n){if(e==="change")return n}var Vc=!1;if(p){var _l;if(p){var yl="oninput"in document;if(!yl){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),yl=typeof jc.oninput=="function"}_l=yl}else _l=!1;Vc=_l&&(!document.documentMode||9<document.documentMode)}function bc(){ni&&(ni.detachEvent("onpropertychange",$c),ri=ni=null)}function $c(e){if(e.propertyName==="value"&&ys(ri)){var n=[];Hc(n,ri,e,Xo(e)),dc(Eg,n)}}function kg(e,n,s){e==="focusin"?(bc(),ni=n,ri=s,ni.attachEvent("onpropertychange",$c)):e==="focusout"&&bc()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ys(ri)}function Tg(e,n){if(e==="click")return ys(n)}function Ng(e,n){if(e==="input"||e==="change")return ys(n)}function xg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nt=typeof Object.is=="function"?Object.is:xg;function ii(e,n){if(Nt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!Nt(e[u],n[u]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,n){var s=Gc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gc(s)}}function Kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yc(){for(var e=window,n=ts();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ts(e.document)}return n}function vl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Rg(e){var n=Yc(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Kc(s.ownerDocument.documentElement,s)){if(l!==null&&vl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=Qc(s,d);var h=Qc(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=p&&"documentMode"in document&&11>=document.documentMode,or=null,wl=null,si=null,Cl=!1;function qc(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cl||or==null||or!==ts(l)||(l=or,"selectionStart"in l&&vl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),si&&ii(si,l)||(si=l,l=Es(wl,"onSelect"),0<l.length&&(n=new dl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=or)))}function vs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var lr={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},El={},Xc={};p&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function ws(e){if(El[e])return El[e];if(!lr[e])return e;var n=lr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xc)return El[e]=n[s];return e}var Jc=ws("animationend"),Zc=ws("animationiteration"),ed=ws("animationstart"),td=ws("transitionend"),nd=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,n){nd.set(e,n),c(n,[e])}for(var Sl=0;Sl<rd.length;Sl++){var kl=rd[Sl],Dg=kl.toLowerCase(),Ag=kl[0].toUpperCase()+kl.slice(1);fn(Dg,"on"+Ag)}fn(Jc,"onAnimationEnd"),fn(Zc,"onAnimationIteration"),fn(ed,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(td,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Og=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function id(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Dm(l,n,void 0,e),e.currentTarget=null}function sd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,T=g.currentTarget;if(g=g.listener,y!==d&&u.isPropagationStopped())break e;id(u,g,T),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,T=g.currentTarget,g=g.listener,y!==d&&u.isPropagationStopped())break e;id(u,g,T),d=y}}}if(is)throw e=tl,is=!1,tl=null,e}function pe(e,n){var s=n[Al];s===void 0&&(s=n[Al]=new Set);var l=e+"__bubble";s.has(l)||(od(n,e,2,!1),s.add(l))}function Il(e,n,s){var l=0;n&&(l|=4),od(s,e,l,n)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[Cs]){e[Cs]=!0,o.forEach(function(s){s!=="selectionchange"&&(Og.has(s)||Il(s,!1,e),Il(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cs]||(n[Cs]=!0,Il("selectionchange",!1,n))}}function od(e,n,s,l){switch(Rc(n)){case 1:var u=Qm;break;case 4:u=Km;break;default:u=al}s=u.bind(null,n,s,e),u=void 0,!el||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Tl(e,n,s,l,u){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===u||g.nodeType===8&&g.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;h=h.return}for(;g!==null;){if(h=Mn(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}dc(function(){var T=d,R=Xo(s),P=[];e:{var N=nd.get(e);if(N!==void 0){var F=dl,B=e;switch(e){case"keypress":if(ms(s)===0)break e;case"keydown":case"keyup":F=ug;break;case"focusin":B="focus",F=pl;break;case"focusout":B="blur",F=pl;break;case"beforeblur":case"afterblur":F=pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=fg;break;case Jc:case Zc:case ed:F=eg;break;case td:F=pg;break;case"scroll":F=Ym;break;case"wheel":F=gg;break;case"copy":case"cut":case"paste":F=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mc}var W=(n&4)!==0,xe=!W&&e==="scroll",S=W?N!==null?N+"Capture":null:N;W=[];for(var v=T,k;v!==null;){k=v;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,S!==null&&(D=jr(v,S),D!=null&&W.push(ai(v,D,k)))),xe)break;v=v.return}0<W.length&&(N=new F(N,B,null,s,R),P.push({event:N,listeners:W}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&s!==qo&&(B=s.relatedTarget||s.fromElement)&&(Mn(B)||B[$t]))break e;if((F||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,F?(B=s.relatedTarget||s.toElement,F=T,B=B?Mn(B):null,B!==null&&(xe=On(B),B!==xe||B.tag!==5&&B.tag!==6)&&(B=null)):(F=null,B=T),F!==B)){if(W=Ac,D="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(W=Mc,D="onPointerLeave",S="onPointerEnter",v="pointer"),xe=F==null?N:cr(F),k=B==null?N:cr(B),N=new W(D,v+"leave",F,s,R),N.target=xe,N.relatedTarget=k,D=null,Mn(R)===T&&(W=new W(S,v+"enter",B,s,R),W.target=k,W.relatedTarget=xe,D=W),xe=D,F&&B)t:{for(W=F,S=B,v=0,k=W;k;k=ar(k))v++;for(k=0,D=S;D;D=ar(D))k++;for(;0<v-k;)W=ar(W),v--;for(;0<k-v;)S=ar(S),k--;for(;v--;){if(W===S||S!==null&&W===S.alternate)break t;W=ar(W),S=ar(S)}W=null}else W=null;F!==null&&ld(P,N,F,W,!1),B!==null&&xe!==null&&ld(P,xe,B,W,!0)}}e:{if(N=T?cr(T):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var H=Sg;else if(Wc(N))if(Vc)H=Ng;else{H=Ig;var j=kg}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(H=Tg);if(H&&(H=H(e,T))){Hc(P,H,s,R);break e}j&&j(e,N,T),e==="focusout"&&(j=N._wrapperState)&&j.controlled&&N.type==="number"&&$o(N,"number",N.value)}switch(j=T?cr(T):window,e){case"focusin":(Wc(j)||j.contentEditable==="true")&&(or=j,wl=T,si=null);break;case"focusout":si=wl=or=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,qc(P,s,R);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":qc(P,s,R)}var b;if(gl)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else sr?Uc(e,s)&&(K="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(K="onCompositionStart");K&&(Lc&&s.locale!=="ko"&&(sr||K!=="onCompositionStart"?K==="onCompositionEnd"&&sr&&(b=Pc()):(dn=R,cl="value"in dn?dn.value:dn.textContent,sr=!0)),j=Es(T,K),0<j.length&&(K=new Oc(K,e,null,s,R),P.push({event:K,listeners:j}),b?K.data=b:(b=Bc(s),b!==null&&(K.data=b)))),(b=yg?vg(e,s):wg(e,s))&&(T=Es(T,"onBeforeInput"),0<T.length&&(R=new Oc("onBeforeInput","beforeinput",null,s,R),P.push({event:R,listeners:T}),R.data=b))}sd(P,n)})}function ai(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Es(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=jr(e,s),d!=null&&l.unshift(ai(e,d,u)),d=jr(e,n),d!=null&&l.push(ai(e,d,u))),e=e.return}return l}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ld(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,T=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&T!==null&&(g=T,u?(y=jr(s,d),y!=null&&h.unshift(ai(s,y,g))):u||(y=jr(s,d),y!=null&&h.push(ai(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Mg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function ad(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Lg,"")}function Ss(e,n,s){if(n=ad(n),ad(e)!==n&&s)throw Error(r(425))}function ks(){}var Nl=null,xl=null;function Rl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(Ug)}:Pl;function Ug(e){setTimeout(function(){throw e})}function Dl(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),Jr(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);Jr(n)}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ur,ui="__reactProps$"+ur,$t="__reactContainer$"+ur,Al="__reactEvents$"+ur,Bg="__reactListeners$"+ur,Wg="__reactHandles$"+ur;function Mn(e){var n=e[Bt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[$t]||s[Bt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=cd(e);e!==null;){if(s=e[Bt])return s;e=cd(e)}return n}e=s,s=e.parentNode}return null}function ci(e){return e=e[Bt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Is(e){return e[ui]||null}var Ol=[],dr=-1;function pn(e){return{current:e}}function me(e){0>dr||(e.current=Ol[dr],Ol[dr]=null,dr--)}function de(e,n){dr++,Ol[dr]=e.current,e.current=n}var mn={},Ge=pn(mn),rt=pn(!1),Ln=mn;function fr(e,n){var s=e.type.contextTypes;if(!s)return mn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function it(e){return e=e.childContextTypes,e!=null}function Ts(){me(rt),me(Ge)}function dd(e,n,s){if(Ge.current!==mn)throw Error(r(168));de(Ge,n),de(rt,s)}function fd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,ce(e)||"Unknown",u));return U({},s,l)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Ln=Ge.current,de(Ge,e),de(rt,rt.current),!0}function hd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=fd(e,n,Ln),l.__reactInternalMemoizedMergedChildContext=e,me(rt),me(Ge),de(Ge,e)):me(rt),de(rt,s)}var Gt=null,xs=!1,Ml=!1;function pd(e){Gt===null?Gt=[e]:Gt.push(e)}function Hg(e){xs=!0,pd(e)}function gn(){if(!Ml&&Gt!==null){Ml=!0;var e=0,n=ae;try{var s=Gt;for(ae=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Gt=null,xs=!1}catch(u){throw Gt!==null&&(Gt=Gt.slice(e+1)),gc(nl,gn),u}finally{ae=n,Ml=!1}}return null}var hr=[],pr=0,Rs=null,Ps=0,wt=[],Ct=0,Fn=null,Qt=1,Kt="";function zn(e,n){hr[pr++]=Ps,hr[pr++]=Rs,Rs=e,Ps=n}function md(e,n,s){wt[Ct++]=Qt,wt[Ct++]=Kt,wt[Ct++]=Fn,Fn=e;var l=Qt;e=Kt;var u=32-Tt(l)-1;l&=~(1<<u),s+=1;var d=32-Tt(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Qt=1<<32-Tt(n)+u|s<<u|l,Kt=d+e}else Qt=1<<d|s<<u|l,Kt=e}function Ll(e){e.return!==null&&(zn(e,1),md(e,1,0))}function Fl(e){for(;e===Rs;)Rs=hr[--pr],hr[pr]=null,Ps=hr[--pr],hr[pr]=null;for(;e===Fn;)Fn=wt[--Ct],wt[Ct]=null,Kt=wt[--Ct],wt[Ct]=null,Qt=wt[--Ct],wt[Ct]=null}var gt=null,_t=null,ye=!1,xt=null;function gd(e,n){var s=It(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function _d(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,gt=e,_t=hn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,gt=e,_t=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Fn!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=It(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,gt=e,_t=null,!0):!1;default:return!1}}function zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(ye){var n=_t;if(n){var s=n;if(!_d(e,n)){if(zl(e))throw Error(r(418));n=hn(s.nextSibling);var l=gt;n&&_d(e,n)?gd(l,s):(e.flags=e.flags&-4097|2,ye=!1,gt=e)}}else{if(zl(e))throw Error(r(418));e.flags=e.flags&-4097|2,ye=!1,gt=e}}}function yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Ds(e){if(e!==gt)return!1;if(!ye)return yd(e),ye=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Rl(e.type,e.memoizedProps)),n&&(n=_t)){if(zl(e))throw vd(),Error(r(418));for(;n;)gd(e,n),n=hn(n.nextSibling)}if(yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){_t=hn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}_t=null}}else _t=gt?hn(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=_t;e;)e=hn(e.nextSibling)}function mr(){_t=gt=null,ye=!1}function Bl(e){xt===null?xt=[e]:xt.push(e)}var Vg=Te.ReactCurrentBatchConfig;function di(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=u.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function As(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function wd(e){var n=e._init;return n(e._payload)}function Cd(e){function n(S,v){if(e){var k=S.deletions;k===null?(S.deletions=[v],S.flags|=16):k.push(v)}}function s(S,v){if(!e)return null;for(;v!==null;)n(S,v),v=v.sibling;return null}function l(S,v){for(S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function u(S,v){return S=kn(S,v),S.index=0,S.sibling=null,S}function d(S,v,k){return S.index=k,e?(k=S.alternate,k!==null?(k=k.index,k<v?(S.flags|=2,v):k):(S.flags|=2,v)):(S.flags|=1048576,v)}function h(S){return e&&S.alternate===null&&(S.flags|=2),S}function g(S,v,k,D){return v===null||v.tag!==6?(v=Pa(k,S.mode,D),v.return=S,v):(v=u(v,k),v.return=S,v)}function y(S,v,k,D){var H=k.type;return H===Xe?R(S,v,k.props.children,D,k.key):v!==null&&(v.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ee&&wd(H)===v.type)?(D=u(v,k.props),D.ref=di(S,v,k),D.return=S,D):(D=no(k.type,k.key,k.props,null,S.mode,D),D.ref=di(S,v,k),D.return=S,D)}function T(S,v,k,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=Da(k,S.mode,D),v.return=S,v):(v=u(v,k.children||[]),v.return=S,v)}function R(S,v,k,D,H){return v===null||v.tag!==7?(v=$n(k,S.mode,D,H),v.return=S,v):(v=u(v,k),v.return=S,v)}function P(S,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Pa(""+v,S.mode,k),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ve:return k=no(v.type,v.key,v.props,null,S.mode,k),k.ref=di(S,null,v),k.return=S,k;case $e:return v=Da(v,S.mode,k),v.return=S,v;case Ee:var D=v._init;return P(S,D(v._payload),k)}if(Wr(v)||$(v))return v=$n(v,S.mode,k,null),v.return=S,v;As(S,v)}return null}function N(S,v,k,D){var H=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:g(S,v,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ve:return k.key===H?y(S,v,k,D):null;case $e:return k.key===H?T(S,v,k,D):null;case Ee:return H=k._init,N(S,v,H(k._payload),D)}if(Wr(k)||$(k))return H!==null?null:R(S,v,k,D,null);As(S,k)}return null}function F(S,v,k,D,H){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(k)||null,g(v,S,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ve:return S=S.get(D.key===null?k:D.key)||null,y(v,S,D,H);case $e:return S=S.get(D.key===null?k:D.key)||null,T(v,S,D,H);case Ee:var j=D._init;return F(S,v,k,j(D._payload),H)}if(Wr(D)||$(D))return S=S.get(k)||null,R(v,S,D,H,null);As(v,D)}return null}function B(S,v,k,D){for(var H=null,j=null,b=v,K=v=0,Ue=null;b!==null&&K<k.length;K++){b.index>K?(Ue=b,b=null):Ue=b.sibling;var ie=N(S,b,k[K],D);if(ie===null){b===null&&(b=Ue);break}e&&b&&ie.alternate===null&&n(S,b),v=d(ie,v,K),j===null?H=ie:j.sibling=ie,j=ie,b=Ue}if(K===k.length)return s(S,b),ye&&zn(S,K),H;if(b===null){for(;K<k.length;K++)b=P(S,k[K],D),b!==null&&(v=d(b,v,K),j===null?H=b:j.sibling=b,j=b);return ye&&zn(S,K),H}for(b=l(S,b);K<k.length;K++)Ue=F(b,S,K,k[K],D),Ue!==null&&(e&&Ue.alternate!==null&&b.delete(Ue.key===null?K:Ue.key),v=d(Ue,v,K),j===null?H=Ue:j.sibling=Ue,j=Ue);return e&&b.forEach(function(In){return n(S,In)}),ye&&zn(S,K),H}function W(S,v,k,D){var H=$(k);if(typeof H!="function")throw Error(r(150));if(k=H.call(k),k==null)throw Error(r(151));for(var j=H=null,b=v,K=v=0,Ue=null,ie=k.next();b!==null&&!ie.done;K++,ie=k.next()){b.index>K?(Ue=b,b=null):Ue=b.sibling;var In=N(S,b,ie.value,D);if(In===null){b===null&&(b=Ue);break}e&&b&&In.alternate===null&&n(S,b),v=d(In,v,K),j===null?H=In:j.sibling=In,j=In,b=Ue}if(ie.done)return s(S,b),ye&&zn(S,K),H;if(b===null){for(;!ie.done;K++,ie=k.next())ie=P(S,ie.value,D),ie!==null&&(v=d(ie,v,K),j===null?H=ie:j.sibling=ie,j=ie);return ye&&zn(S,K),H}for(b=l(S,b);!ie.done;K++,ie=k.next())ie=F(b,S,K,ie.value,D),ie!==null&&(e&&ie.alternate!==null&&b.delete(ie.key===null?K:ie.key),v=d(ie,v,K),j===null?H=ie:j.sibling=ie,j=ie);return e&&b.forEach(function(C_){return n(S,C_)}),ye&&zn(S,K),H}function xe(S,v,k,D){if(typeof k=="object"&&k!==null&&k.type===Xe&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ve:e:{for(var H=k.key,j=v;j!==null;){if(j.key===H){if(H=k.type,H===Xe){if(j.tag===7){s(S,j.sibling),v=u(j,k.props.children),v.return=S,S=v;break e}}else if(j.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ee&&wd(H)===j.type){s(S,j.sibling),v=u(j,k.props),v.ref=di(S,j,k),v.return=S,S=v;break e}s(S,j);break}else n(S,j);j=j.sibling}k.type===Xe?(v=$n(k.props.children,S.mode,D,k.key),v.return=S,S=v):(D=no(k.type,k.key,k.props,null,S.mode,D),D.ref=di(S,v,k),D.return=S,S=D)}return h(S);case $e:e:{for(j=k.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){s(S,v.sibling),v=u(v,k.children||[]),v.return=S,S=v;break e}else{s(S,v);break}else n(S,v);v=v.sibling}v=Da(k,S.mode,D),v.return=S,S=v}return h(S);case Ee:return j=k._init,xe(S,v,j(k._payload),D)}if(Wr(k))return B(S,v,k,D);if($(k))return W(S,v,k,D);As(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(s(S,v.sibling),v=u(v,k),v.return=S,S=v):(s(S,v),v=Pa(k,S.mode,D),v.return=S,S=v),h(S)):s(S,v)}return xe}var gr=Cd(!0),Ed=Cd(!1),Os=pn(null),Ms=null,_r=null,Wl=null;function Hl(){Wl=_r=Ms=null}function Vl(e){var n=Os.current;me(Os),e._currentValue=n}function jl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function yr(e,n){Ms=e,Wl=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(st=!0),e.firstContext=null)}function Et(e){var n=e._currentValue;if(Wl!==e)if(e={context:e,memoizedValue:n,next:null},_r===null){if(Ms===null)throw Error(r(308));_r=e,Ms.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return n}var Un=null;function bl(e){Un===null?Un=[e]:Un.push(e)}function Sd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,bl(n)):(s.next=u.next,u.next=s),n.interleaved=s,Yt(e,l)}function Yt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var _n=!1;function $l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function yn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Yt(e,s)}return u=l.interleaved,u===null?(n.next=n,bl(l)):(n.next=u.next,u.next=n),l.interleaved=n,Yt(e,s)}function Ls(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,sl(e,s)}}function Id(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Fs(e,n,s,l){var u=e.updateQueue;_n=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,T=y.next;y.next=null,h===null?d=T:h.next=T,h=y;var R=e.alternate;R!==null&&(R=R.updateQueue,g=R.lastBaseUpdate,g!==h&&(g===null?R.firstBaseUpdate=T:g.next=T,R.lastBaseUpdate=y))}if(d!==null){var P=u.baseState;h=0,R=T=y=null,g=d;do{var N=g.lane,F=g.eventTime;if((l&N)===N){R!==null&&(R=R.next={eventTime:F,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var B=e,W=g;switch(N=n,F=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){P=B.call(F,P,N);break e}P=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,N=typeof B=="function"?B.call(F,P,N):B,N==null)break e;P=U({},P,N);break e;case 2:_n=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[g]:N.push(g))}else F={eventTime:F,lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},R===null?(T=R=F,y=P):R=R.next=F,h|=N;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;N=g,g=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(R===null&&(y=P),u.baseState=y,u.firstBaseUpdate=T,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Hn|=h,e.lanes=h,e.memoizedState=P}}function Td(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var fi={},Wt=pn(fi),hi=pn(fi),pi=pn(fi);function Bn(e){if(e===fi)throw Error(r(174));return e}function Gl(e,n){switch(de(pi,n),de(hi,e),de(Wt,fi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Qo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Qo(n,e)}me(Wt),de(Wt,n)}function vr(){me(Wt),me(hi),me(pi)}function Nd(e){Bn(pi.current);var n=Bn(Wt.current),s=Qo(n,e.type);n!==s&&(de(hi,e),de(Wt,s))}function Ql(e){hi.current===e&&(me(Wt),me(hi))}var ve=pn(0);function zs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Kl=[];function Yl(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var Us=Te.ReactCurrentDispatcher,ql=Te.ReactCurrentBatchConfig,Wn=0,we=null,Ae=null,Fe=null,Bs=!1,mi=!1,gi=0,jg=0;function Qe(){throw Error(r(321))}function Xl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nt(e[s],n[s]))return!1;return!0}function Jl(e,n,s,l,u,d){if(Wn=d,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Us.current=e===null||e.memoizedState===null?Qg:Kg,e=s(l,u),mi){d=0;do{if(mi=!1,gi=0,25<=d)throw Error(r(301));d+=1,Fe=Ae=null,n.updateQueue=null,Us.current=Yg,e=s(l,u)}while(mi)}if(Us.current=Vs,n=Ae!==null&&Ae.next!==null,Wn=0,Fe=Ae=we=null,Bs=!1,n)throw Error(r(300));return e}function Zl(){var e=gi!==0;return gi=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?we.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function St(){if(Ae===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var n=Fe===null?we.memoizedState:Fe.next;if(n!==null)Fe=n,Ae=e;else{if(e===null)throw Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?we.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function _i(e,n){return typeof n=="function"?n(e):n}function ea(e){var n=St(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ae,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var g=h=null,y=null,T=d;do{var R=T.lane;if((Wn&R)===R)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:R,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(g=y=P,h=l):y=y.next=P,we.lanes|=R,Hn|=R}T=T.next}while(T!==null&&T!==d);y===null?h=l:y.next=g,Nt(l,n.memoizedState)||(st=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,we.lanes|=d,Hn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ta(e){var n=St(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);Nt(d,n.memoizedState)||(st=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function xd(){}function Rd(e,n){var s=we,l=St(),u=n(),d=!Nt(l.memoizedState,u);if(d&&(l.memoizedState=u,st=!0),l=l.queue,na(Ad.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,yi(9,Dd.bind(null,s,l,u,n),void 0,null),ze===null)throw Error(r(349));(Wn&30)!==0||Pd(s,n,u)}return u}function Pd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=we.updateQueue,n===null?(n={lastEffect:null,stores:null},we.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Dd(e,n,s,l){n.value=s,n.getSnapshot=l,Od(n)&&Md(e)}function Ad(e,n,s){return s(function(){Od(n)&&Md(e)})}function Od(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nt(e,s)}catch{return!0}}function Md(e){var n=Yt(e,1);n!==null&&At(n,e,1,-1)}function Ld(e){var n=Ht();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},n.queue=e,e=e.dispatch=Gg.bind(null,we,e),[n.memoizedState,e]}function yi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=we.updateQueue,n===null?(n={lastEffect:null,stores:null},we.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Fd(){return St().memoizedState}function Ws(e,n,s,l){var u=Ht();we.flags|=e,u.memoizedState=yi(1|n,s,void 0,l===void 0?null:l)}function Hs(e,n,s,l){var u=St();l=l===void 0?null:l;var d=void 0;if(Ae!==null){var h=Ae.memoizedState;if(d=h.destroy,l!==null&&Xl(l,h.deps)){u.memoizedState=yi(n,s,d,l);return}}we.flags|=e,u.memoizedState=yi(1|n,s,d,l)}function zd(e,n){return Ws(8390656,8,e,n)}function na(e,n){return Hs(2048,8,e,n)}function Ud(e,n){return Hs(4,2,e,n)}function Bd(e,n){return Hs(4,4,e,n)}function Wd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hd(e,n,s){return s=s!=null?s.concat([e]):null,Hs(4,4,Wd.bind(null,n,e),s)}function ra(){}function Vd(e,n){var s=St();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Xl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function jd(e,n){var s=St();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Xl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function bd(e,n,s){return(Wn&21)===0?(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=s):(Nt(s,n)||(s=wc(),we.lanes|=s,Hn|=s,e.baseState=!0),n)}function bg(e,n){var s=ae;ae=s!==0&&4>s?s:4,e(!0);var l=ql.transition;ql.transition={};try{e(!1),n()}finally{ae=s,ql.transition=l}}function $d(){return St().memoizedState}function $g(e,n,s){var l=En(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Gd(e))Qd(n,s);else if(s=Sd(e,n,s,l),s!==null){var u=et();At(s,e,l,u),Kd(s,n,l)}}function Gg(e,n,s){var l=En(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gd(e))Qd(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(u.hasEagerState=!0,u.eagerState=g,Nt(g,h)){var y=n.interleaved;y===null?(u.next=u,bl(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}s=Sd(e,n,u,l),s!==null&&(u=et(),At(s,e,l,u),Kd(s,n,l))}}function Gd(e){var n=e.alternate;return e===we||n!==null&&n===we}function Qd(e,n){mi=Bs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Kd(e,n,s){if((s&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,sl(e,s)}}var Vs={readContext:Et,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Qg={readContext:Et,useCallback:function(e,n){return Ht().memoizedState=[e,n===void 0?null:n],e},useContext:Et,useEffect:zd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4194308,4,Wd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ws(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ws(4,2,e,n)},useMemo:function(e,n){var s=Ht();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Ht();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=$g.bind(null,we,e),[l.memoizedState,e]},useRef:function(e){var n=Ht();return e={current:e},n.memoizedState=e},useState:Ld,useDebugValue:ra,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Ld(!1),n=e[0];return e=bg.bind(null,e[1]),Ht().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=we,u=Ht();if(ye){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ze===null)throw Error(r(349));(Wn&30)!==0||Pd(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,zd(Ad.bind(null,l,d,e),[e]),l.flags|=2048,yi(9,Dd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Ht(),n=ze.identifierPrefix;if(ye){var s=Kt,l=Qt;s=(l&~(1<<32-Tt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=gi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=jg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Kg={readContext:Et,useCallback:Vd,useContext:Et,useEffect:na,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:Bd,useMemo:jd,useReducer:ea,useRef:Fd,useState:function(){return ea(_i)},useDebugValue:ra,useDeferredValue:function(e){var n=St();return bd(n,Ae.memoizedState,e)},useTransition:function(){var e=ea(_i)[0],n=St().memoizedState;return[e,n]},useMutableSource:xd,useSyncExternalStore:Rd,useId:$d,unstable_isNewReconciler:!1},Yg={readContext:Et,useCallback:Vd,useContext:Et,useEffect:na,useImperativeHandle:Hd,useInsertionEffect:Ud,useLayoutEffect:Bd,useMemo:jd,useReducer:ta,useRef:Fd,useState:function(){return ta(_i)},useDebugValue:ra,useDeferredValue:function(e){var n=St();return Ae===null?n.memoizedState=e:bd(n,Ae.memoizedState,e)},useTransition:function(){var e=ta(_i)[0],n=St().memoizedState;return[e,n]},useMutableSource:xd,useSyncExternalStore:Rd,useId:$d,unstable_isNewReconciler:!1};function Rt(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function ia(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var js={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=et(),u=En(e),d=qt(l,u);d.payload=n,s!=null&&(d.callback=s),n=yn(e,d,u),n!==null&&(At(n,e,u,l),Ls(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=et(),u=En(e),d=qt(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=yn(e,d,u),n!==null&&(At(n,e,u,l),Ls(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=et(),l=En(e),u=qt(s,l);u.tag=2,n!=null&&(u.callback=n),n=yn(e,u,l),n!==null&&(At(n,e,l,s),Ls(n,e,l))}};function Yd(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!ii(s,l)||!ii(u,d):!0}function qd(e,n,s){var l=!1,u=mn,d=n.contextType;return typeof d=="object"&&d!==null?d=Et(d):(u=it(n)?Ln:Ge.current,l=n.contextTypes,d=(l=l!=null)?fr(e,u):mn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=js,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function Xd(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&js.enqueueReplaceState(n,n.state,null)}function sa(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},$l(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=Et(d):(d=it(n)?Ln:Ge.current,u.context=fr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ia(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&js.enqueueReplaceState(u,u.state,null),Fs(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,n){try{var s="",l=n;do s+=ne(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function oa(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function la(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var qg=typeof WeakMap=="function"?WeakMap:Map;function Jd(e,n,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){qs||(qs=!0,Ea=l),la(e,n)},s}function Zd(e,n,s){s=qt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){la(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){la(e,n),typeof l!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function ef(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new qg;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=c_.bind(null,e,n,s),n.then(e,e))}function tf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function nf(e,n,s,l,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=qt(-1,1),n.tag=2,yn(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Xg=Te.ReactCurrentOwner,st=!1;function Ze(e,n,s,l){n.child=e===null?Ed(n,null,s,l):gr(n,e.child,s,l)}function rf(e,n,s,l,u){s=s.render;var d=n.ref;return yr(n,u),l=Jl(e,n,s,l,d,u),s=Zl(),e!==null&&!st?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Xt(e,n,u)):(ye&&s&&Ll(n),n.flags|=1,Ze(e,n,l,u),n.child)}function sf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Ra(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,of(e,n,d,l,u)):(e=no(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&u)===0){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:ii,s(h,l)&&e.ref===n.ref)return Xt(e,n,u)}return n.flags|=1,e=kn(d,l),e.ref=n.ref,e.return=n,n.child=e}function of(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(ii(d,l)&&e.ref===n.ref)if(st=!1,n.pendingProps=l=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(st=!0);else return n.lanes=e.lanes,Xt(e,n,u)}return aa(e,n,s,l,u)}function lf(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Er,yt),yt|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,de(Er,yt),yt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,de(Er,yt),yt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,de(Er,yt),yt|=l;return Ze(e,n,u,s),n.child}function af(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function aa(e,n,s,l,u){var d=it(s)?Ln:Ge.current;return d=fr(n,d),yr(n,u),s=Jl(e,n,s,l,d,u),l=Zl(),e!==null&&!st?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Xt(e,n,u)):(ye&&l&&Ll(n),n.flags|=1,Ze(e,n,s,u),n.child)}function uf(e,n,s,l,u){if(it(s)){var d=!0;Ns(n)}else d=!1;if(yr(n,u),n.stateNode===null)$s(e,n),qd(n,s,l),sa(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=Et(T):(T=it(s)?Ln:Ge.current,T=fr(n,T));var R=s.getDerivedStateFromProps,P=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==T)&&Xd(n,h,l,T),_n=!1;var N=n.memoizedState;h.state=N,Fs(n,l,h,u),y=n.memoizedState,g!==l||N!==y||rt.current||_n?(typeof R=="function"&&(ia(n,s,R,l),y=n.memoizedState),(g=_n||Yd(n,s,g,l,N,y,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=T,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,kd(e,n),g=n.memoizedProps,T=n.type===n.elementType?g:Rt(n.type,g),h.props=T,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=Et(y):(y=it(s)?Ln:Ge.current,y=fr(n,y));var F=s.getDerivedStateFromProps;(R=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||N!==y)&&Xd(n,h,l,y),_n=!1,N=n.memoizedState,h.state=N,Fs(n,l,h,u);var B=n.memoizedState;g!==P||N!==B||rt.current||_n?(typeof F=="function"&&(ia(n,s,F,l),B=n.memoizedState),(T=_n||Yd(n,s,T,l,N,B,y)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=T):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return ua(e,n,s,l,d,u)}function ua(e,n,s,l,u,d){af(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&hd(n,s,!1),Xt(e,n,d);l=n.stateNode,Xg.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=gr(n,e.child,null,d),n.child=gr(n,null,g,d)):Ze(e,n,g,d),n.memoizedState=l.state,u&&hd(n,s,!0),n.child}function cf(e){var n=e.stateNode;n.pendingContext?dd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&dd(e,n.context,!1),Gl(e,n.containerInfo)}function df(e,n,s,l,u){return mr(),Bl(u),n.flags|=256,Ze(e,n,s,l),n.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function ff(e,n,s){var l=n.pendingProps,u=ve.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(u&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),de(ve,u&1),e===null)return Ul(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=ro(h,l,0,null),e=$n(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=da(s),n.memoizedState=ca,e):fa(n,h));if(u=e.memoizedState,u!==null&&(g=u.dehydrated,g!==null))return Jg(e,n,h,l,g,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,g=u.sibling;var y={mode:"hidden",children:l.children};return(h&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=kn(u,y),l.subtreeFlags=u.subtreeFlags&14680064),g!==null?d=kn(g,d):(d=$n(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?da(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=ca,l}return d=e.child,e=d.sibling,l=kn(d,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function fa(e,n){return n=ro({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function bs(e,n,s,l){return l!==null&&Bl(l),gr(n,e.child,null,s),e=fa(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=oa(Error(r(422))),bs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=ro({mode:"visible",children:l.children},u,0,null),d=$n(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,(n.mode&1)!==0&&gr(n,e.child,null,h),n.child.memoizedState=da(h),n.memoizedState=ca,d);if((n.mode&1)===0)return bs(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=oa(d,l,void 0),bs(e,n,h,l)}if(g=(h&e.childLanes)!==0,st||g){if(l=ze,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|h))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Yt(e,u),At(l,e,u,-1))}return xa(),l=oa(Error(r(421))),bs(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=d_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,_t=hn(u.nextSibling),gt=n,ye=!0,xt=null,e!==null&&(wt[Ct++]=Qt,wt[Ct++]=Kt,wt[Ct++]=Fn,Qt=e.id,Kt=e.overflow,Fn=n),n=fa(n,l.children),n.flags|=4096,n)}function hf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),jl(e.return,n,s)}function ha(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function pf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(Ze(e,n,l.children,s),l=ve.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,s,n);else if(e.tag===19)hf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(de(ve,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&zs(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),ha(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&zs(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}ha(n,!0,s,null,d);break;case"together":ha(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Hn|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=kn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=kn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zg(e,n,s){switch(n.tag){case 3:cf(n),mr();break;case 5:Nd(n);break;case 1:it(n.type)&&Ns(n);break;case 4:Gl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;de(Os,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(de(ve,ve.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?ff(e,n,s):(de(ve,ve.current&1),e=Xt(e,n,s),e!==null?e.sibling:null);de(ve,ve.current&1);break;case 19:if(l=(s&n.childLanes)!==0,(e.flags&128)!==0){if(l)return pf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),de(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,lf(e,n,s)}return Xt(e,n,s)}var mf,pa,gf,_f;mf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},pa=function(){},gf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,Bn(Wt.current);var d=null;switch(s){case"input":u=jo(e,u),l=jo(e,l),d=[];break;case"select":u=U({},u,{value:void 0}),l=U({},l,{value:void 0}),d=[];break;case"textarea":u=Go(e,u),l=Go(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ks)}Ko(s,l);var h;s=null;for(T in u)if(!l.hasOwnProperty(T)&&u.hasOwnProperty(T)&&u[T]!=null)if(T==="style"){var g=u[T];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var y=l[T];if(g=u?.[T],l.hasOwnProperty(T)&&y!==g&&(y!=null||g!=null))if(T==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(T,s)),s=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&pe("scroll",e),d||g===y||(d=[])):(d=d||[]).push(T,y))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},_f=function(e,n,s,l){s!==l&&(n.flags|=4)};function vi(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function e_(e,n,s){var l=n.pendingProps;switch(Fl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(n),null;case 1:return it(n.type)&&Ts(),Ke(n),null;case 3:return l=n.stateNode,vr(),me(rt),me(Ge),Yl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ds(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xt!==null&&(Ia(xt),xt=null))),pa(e,n),Ke(n),null;case 5:Ql(n);var u=Bn(pi.current);if(s=n.type,e!==null&&n.stateNode!=null)gf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ke(n),null}if(e=Bn(Wt.current),Ds(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Bt]=n,l[ui]=d,e=(n.mode&1)!==0,s){case"dialog":pe("cancel",l),pe("close",l);break;case"iframe":case"object":case"embed":pe("load",l);break;case"video":case"audio":for(u=0;u<oi.length;u++)pe(oi[u],l);break;case"source":pe("error",l);break;case"img":case"image":case"link":pe("error",l),pe("load",l);break;case"details":pe("toggle",l);break;case"input":qu(l,d),pe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},pe("invalid",l);break;case"textarea":Zu(l,d),pe("invalid",l)}Ko(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,g,e),u=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,g,e),u=["children",""+g]):a.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&pe("scroll",l)}switch(s){case"input":es(l),Ju(l,d,!0);break;case"textarea":es(l),tc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=ks)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Bt]=n,e[ui]=l,mf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Yo(s,l),s){case"dialog":pe("cancel",e),pe("close",e),u=l;break;case"iframe":case"object":case"embed":pe("load",e),u=l;break;case"video":case"audio":for(u=0;u<oi.length;u++)pe(oi[u],e);u=l;break;case"source":pe("error",e),u=l;break;case"img":case"image":case"link":pe("error",e),pe("load",e),u=l;break;case"details":pe("toggle",e),u=l;break;case"input":qu(e,l),u=jo(e,l),pe("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=U({},l,{value:void 0}),pe("invalid",e);break;case"textarea":Zu(e,l),u=Go(e,l),pe("invalid",e);break;default:u=l}Ko(s,u),g=u;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?sc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&rc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Hr(e,y):typeof y=="number"&&Hr(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?y!=null&&d==="onScroll"&&pe("scroll",e):y!=null&&Pe(e,d,y,h))}switch(s){case"input":es(e),Ju(e,l,!1);break;case"textarea":es(e),tc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+le(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?er(e,!!l.multiple,d,!1):l.defaultValue!=null&&er(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ks)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ke(n),null;case 6:if(e&&n.stateNode!=null)_f(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Bn(pi.current),Bn(Wt.current),Ds(n)){if(l=n.stateNode,s=n.memoizedProps,l[Bt]=n,(d=l.nodeValue!==s)&&(e=gt,e!==null))switch(e.tag){case 3:Ss(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Bt]=n,n.stateNode=l}return Ke(n),null;case 13:if(me(ve),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&_t!==null&&(n.mode&1)!==0&&(n.flags&128)===0)vd(),mr(),n.flags|=98560,d=!1;else if(d=Ds(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Bt]=n}else mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),d=!1}else xt!==null&&(Ia(xt),xt=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ve.current&1)!==0?Oe===0&&(Oe=3):xa())),n.updateQueue!==null&&(n.flags|=4),Ke(n),null);case 4:return vr(),pa(e,n),e===null&&li(n.stateNode.containerInfo),Ke(n),null;case 10:return Vl(n.type._context),Ke(n),null;case 17:return it(n.type)&&Ts(),Ke(n),null;case 19:if(me(ve),d=n.memoizedState,d===null)return Ke(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)vi(d,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=zs(e),h!==null){for(n.flags|=128,vi(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return de(ve,ve.current&1|2),n.child}e=e.sibling}d.tail!==null&&Ne()>Sr&&(n.flags|=128,l=!0,vi(d,!1),n.lanes=4194304)}else{if(!l)if(e=zs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),vi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!ye)return Ke(n),null}else 2*Ne()-d.renderingStartTime>Sr&&s!==1073741824&&(n.flags|=128,l=!0,vi(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ne(),n.sibling=null,s=ve.current,de(ve,l?s&1|2:s&1),n):(Ke(n),null);case 22:case 23:return Na(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(yt&1073741824)!==0&&(Ke(n),n.subtreeFlags&6&&(n.flags|=8192)):Ke(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function t_(e,n){switch(Fl(n),n.tag){case 1:return it(n.type)&&Ts(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vr(),me(rt),me(Ge),Yl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ql(n),null;case 13:if(me(ve),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return me(ve),null;case 4:return vr(),null;case 10:return Vl(n.type._context),null;case 22:case 23:return Na(),null;case 24:return null;default:return null}}var Gs=!1,Ye=!1,n_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Cr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Se(e,n,l)}else s.current=null}function ma(e,n,s){try{s()}catch(l){Se(e,n,l)}}var yf=!1;function r_(e,n){if(Nl=fs,e=Yc(),vl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,T=0,R=0,P=e,N=null;t:for(;;){for(var F;P!==s||u!==0&&P.nodeType!==3||(g=h+u),P!==d||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(F=P.firstChild)!==null;)N=P,P=F;for(;;){if(P===e)break t;if(N===s&&++T===u&&(g=h),N===d&&++R===l&&(y=h),(F=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=F}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(xl={focusedElem:e,selectionRange:s},fs=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var B=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,xe=B.memoizedState,S=n.stateNode,v=S.getSnapshotBeforeUpdate(n.elementType===n.type?W:Rt(n.type,W),xe);S.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Se(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return B=yf,yf=!1,B}function wi(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ma(n,s,d)}u=u.next}while(u!==l)}}function Qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function ga(e){var n=e.ref;if(n!==null){var s=e.stateNode;e.tag,e=s,typeof n=="function"?n(e):n.current=e}}function vf(e){var n=e.alternate;n!==null&&(e.alternate=null,vf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Bt],delete n[ui],delete n[Al],delete n[Bg],delete n[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wf(e){return e.tag===5||e.tag===3||e.tag===4}function Cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _a(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ks));else if(l!==4&&(e=e.child,e!==null))for(_a(e,n,s),e=e.sibling;e!==null;)_a(e,n,s),e=e.sibling}function ya(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ya(e,n,s),e=e.sibling;e!==null;)ya(e,n,s),e=e.sibling}var je=null,Pt=!1;function vn(e,n,s){for(s=s.child;s!==null;)Ef(e,n,s),s=s.sibling}function Ef(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(os,s)}catch{}switch(s.tag){case 5:Ye||Cr(s,n);case 6:var l=je,u=Pt;je=null,vn(e,n,s),je=l,Pt=u,je!==null&&(Pt?(e=je,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):je.removeChild(s.stateNode));break;case 18:je!==null&&(Pt?(e=je,s=s.stateNode,e.nodeType===8?Dl(e.parentNode,s):e.nodeType===1&&Dl(e,s),Jr(e)):Dl(je,s.stateNode));break;case 4:l=je,u=Pt,je=s.stateNode.containerInfo,Pt=!0,vn(e,n,s),je=l,Pt=u;break;case 0:case 11:case 14:case 15:if(!Ye&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&ma(s,n,h),u=u.next}while(u!==l)}vn(e,n,s);break;case 1:if(!Ye&&(Cr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Se(s,n,g)}vn(e,n,s);break;case 21:vn(e,n,s);break;case 22:s.mode&1?(Ye=(l=Ye)||s.memoizedState!==null,vn(e,n,s),Ye=l):vn(e,n,s);break;default:vn(e,n,s)}}function Sf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new n_),n.forEach(function(l){var u=f_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Dt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:je=g.stateNode,Pt=!1;break e;case 3:je=g.stateNode.containerInfo,Pt=!0;break e;case 4:je=g.stateNode.containerInfo,Pt=!0;break e}g=g.return}if(je===null)throw Error(r(160));Ef(d,h,u),je=null,Pt=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(T){Se(u,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)kf(n,e),n=n.sibling}function kf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(n,e),Vt(e),l&4){try{wi(3,e,e.return),Qs(3,e)}catch(W){Se(e,e.return,W)}try{wi(5,e,e.return)}catch(W){Se(e,e.return,W)}}break;case 1:Dt(n,e),Vt(e),l&512&&s!==null&&Cr(s,s.return);break;case 5:if(Dt(n,e),Vt(e),l&512&&s!==null&&Cr(s,s.return),e.flags&32){var u=e.stateNode;try{Hr(u,"")}catch(W){Se(e,e.return,W)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&Xu(u,d),Yo(g,h);var T=Yo(g,d);for(h=0;h<y.length;h+=2){var R=y[h],P=y[h+1];R==="style"?sc(u,P):R==="dangerouslySetInnerHTML"?rc(u,P):R==="children"?Hr(u,P):Pe(u,R,P,T)}switch(g){case"input":bo(u,d);break;case"textarea":ec(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?er(u,!!d.multiple,F,!1):N!==!!d.multiple&&(d.defaultValue!=null?er(u,!!d.multiple,d.defaultValue,!0):er(u,!!d.multiple,d.multiple?[]:"",!1))}u[ui]=d}catch(W){Se(e,e.return,W)}}break;case 6:if(Dt(n,e),Vt(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(W){Se(e,e.return,W)}}break;case 3:if(Dt(n,e),Vt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Jr(n.containerInfo)}catch(W){Se(e,e.return,W)}break;case 4:Dt(n,e),Vt(e);break;case 13:Dt(n,e),Vt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Ca=Ne())),l&4&&Sf(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(Ye=(T=Ye)||R,Dt(n,e),Ye=T):Dt(n,e),Vt(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!R&&(e.mode&1)!==0)for(z=e,R=e.child;R!==null;){for(P=z=R;z!==null;){switch(N=z,F=N.child,N.tag){case 0:case 11:case 14:case 15:wi(4,N,N.return);break;case 1:Cr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Se(l,s,W)}}break;case 5:Cr(N,N.return);break;case 22:if(N.memoizedState!==null){Nf(P);continue}}F!==null?(F.return=N,z=F):Nf(P)}R=R.sibling}e:for(R=null,P=e;;){if(P.tag===5){if(R===null){R=P;try{u=P.stateNode,T?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=ic("display",h))}catch(W){Se(e,e.return,W)}}}else if(P.tag===6){if(R===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(W){Se(e,e.return,W)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;R===P&&(R=null),P=P.return}R===P&&(R=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Dt(n,e),Vt(e),l&4&&Sf(e);break;case 21:break;default:Dt(n,e),Vt(e)}}function Vt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(wf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Hr(u,""),l.flags&=-33);var d=Cf(e);ya(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,g=Cf(e);_a(e,g,h);break;default:throw Error(r(161))}}catch(y){Se(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function i_(e,n,s){z=e,If(e)}function If(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var u=z,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Gs;if(!h){var g=u.alternate,y=g!==null&&g.memoizedState!==null||Ye;g=Gs;var T=Ye;if(Gs=h,(Ye=y)&&!T)for(z=u;z!==null;)h=z,y=h.child,h.tag===22&&h.memoizedState!==null?xf(u):y!==null?(y.return=h,z=y):xf(u);for(;d!==null;)z=d,If(d),d=d.sibling;z=u,Gs=g,Ye=T}Tf(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,z=d):Tf(e)}}function Tf(e){for(;z!==null;){var n=z;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ye||Qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Ye)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Rt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Td(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Td(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var R=T.memoizedState;if(R!==null){var P=R.dehydrated;P!==null&&Jr(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ye||n.flags&512&&ga(n)}catch(N){Se(n,n.return,N)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function Nf(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function xf(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Qs(4,n)}catch(y){Se(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(y){Se(n,u,y)}}var d=n.return;try{ga(n)}catch(y){Se(n,d,y)}break;case 5:var h=n.return;try{ga(n)}catch(y){Se(n,h,y)}}}catch(y){Se(n,n.return,y)}if(n===e){z=null;break}var g=n.sibling;if(g!==null){g.return=n.return,z=g;break}z=n.return}}var s_=Math.ceil,Ks=Te.ReactCurrentDispatcher,va=Te.ReactCurrentOwner,kt=Te.ReactCurrentBatchConfig,te=0,ze=null,De=null,be=0,yt=0,Er=pn(0),Oe=0,Ci=null,Hn=0,Ys=0,wa=0,Ei=null,ot=null,Ca=0,Sr=1/0,Jt=null,qs=!1,Ea=null,wn=null,Xs=!1,Cn=null,Js=0,Si=0,Sa=null,Zs=-1,eo=0;function et(){return(te&6)!==0?Ne():Zs!==-1?Zs:Zs=Ne()}function En(e){return(e.mode&1)===0?1:(te&2)!==0&&be!==0?be&-be:Vg.transition!==null?(eo===0&&(eo=wc()),eo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Rc(e.type)),e)}function At(e,n,s,l){if(50<Si)throw Si=0,Sa=null,Error(r(185));Qr(e,s,l),((te&2)===0||e!==ze)&&(e===ze&&((te&2)===0&&(Ys|=s),Oe===4&&Sn(e,be)),lt(e,l),s===1&&te===0&&(n.mode&1)===0&&(Sr=Ne()+500,xs&&gn()))}function lt(e,n){var s=e.callbackNode;Vm(e,n);var l=us(e,e===ze?be:0);if(l===0)s!==null&&_c(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&_c(s),n===1)e.tag===0?Hg(Pf.bind(null,e)):pd(Pf.bind(null,e)),zg(function(){(te&6)===0&&gn()}),s=null;else{switch(Cc(l)){case 1:s=nl;break;case 4:s=yc;break;case 16:s=ss;break;case 536870912:s=vc;break;default:s=ss}s=Uf(s,Rf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Rf(e,n){if(Zs=-1,eo=0,(te&6)!==0)throw Error(r(327));var s=e.callbackNode;if(kr()&&e.callbackNode!==s)return null;var l=us(e,e===ze?be:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=to(e,l);else{n=l;var u=te;te|=2;var d=Af();(ze!==e||be!==n)&&(Jt=null,Sr=Ne()+500,jn(e,n));do try{a_();break}catch(g){Df(e,g)}while(!0);Hl(),Ks.current=d,te=u,De!==null?n=0:(ze=null,be=0,n=Oe)}if(n!==0){if(n===2&&(u=rl(e),u!==0&&(l=u,n=ka(e,u))),n===1)throw s=Ci,jn(e,0),Sn(e,l),lt(e,Ne()),s;if(n===6)Sn(e,l);else{if(u=e.current.alternate,(l&30)===0&&!o_(u)&&(n=to(e,l),n===2&&(d=rl(e),d!==0&&(l=d,n=ka(e,d))),n===1))throw s=Ci,jn(e,0),Sn(e,l),lt(e,Ne()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:bn(e,ot,Jt);break;case 3:if(Sn(e,l),(l&130023424)===l&&(n=Ca+500-Ne(),10<n)){if(us(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){et(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Pl(bn.bind(null,e,ot,Jt),n);break}bn(e,ot,Jt);break;case 4:if(Sn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-Tt(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=Ne()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*s_(l/1960))-l,10<l){e.timeoutHandle=Pl(bn.bind(null,e,ot,Jt),l);break}bn(e,ot,Jt);break;case 5:bn(e,ot,Jt);break;default:throw Error(r(329))}}}return lt(e,Ne()),e.callbackNode===s?Rf.bind(null,e):null}function ka(e,n){var s=Ei;return e.current.memoizedState.isDehydrated&&(jn(e,n).flags|=256),e=to(e,n),e!==2&&(n=ot,ot=s,n!==null&&Ia(n)),e}function Ia(e){ot===null?ot=e:ot.push.apply(ot,e)}function o_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!Nt(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Sn(e,n){for(n&=~wa,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Tt(n),l=1<<s;e[s]=-1,n&=~l}}function Pf(e){if((te&6)!==0)throw Error(r(327));kr();var n=us(e,0);if((n&1)===0)return lt(e,Ne()),null;var s=to(e,n);if(e.tag!==0&&s===2){var l=rl(e);l!==0&&(n=l,s=ka(e,l))}if(s===1)throw s=Ci,jn(e,0),Sn(e,n),lt(e,Ne()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,bn(e,ot,Jt),lt(e,Ne()),null}function Ta(e,n){var s=te;te|=1;try{return e(n)}finally{te=s,te===0&&(Sr=Ne()+500,xs&&gn())}}function Vn(e){Cn!==null&&Cn.tag===0&&(te&6)===0&&kr();var n=te;te|=1;var s=kt.transition,l=ae;try{if(kt.transition=null,ae=1,e)return e()}finally{ae=l,kt.transition=s,te=n,(te&6)===0&&gn()}}function Na(){yt=Er.current,me(Er)}function jn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Fg(s)),De!==null)for(s=De.return;s!==null;){var l=s;switch(Fl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ts();break;case 3:vr(),me(rt),me(Ge),Yl();break;case 5:Ql(l);break;case 4:vr();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Vl(l.type._context);break;case 22:case 23:Na()}s=s.return}if(ze=e,De=e=kn(e.current,null),be=yt=n,Oe=0,Ci=null,wa=Ys=Hn=0,ot=Ei=null,Un!==null){for(n=0;n<Un.length;n++)if(s=Un[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}Un=null}return e}function Df(e,n){do{var s=De;try{if(Hl(),Us.current=Vs,Bs){for(var l=we.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Bs=!1}if(Wn=0,Fe=Ae=we=null,mi=!1,gi=0,va.current=null,s===null||s.return===null){Oe=1,Ci=n,De=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=be,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,R=g,P=R.tag;if((R.mode&1)===0&&(P===0||P===11||P===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var F=tf(h);if(F!==null){F.flags&=-257,nf(F,h,g,d,n),F.mode&1&&ef(d,T,n),n=F,y=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(y),n.updateQueue=W}else B.add(y);break e}else{if((n&1)===0){ef(d,T,n),xa();break e}y=Error(r(426))}}else if(ye&&g.mode&1){var xe=tf(h);if(xe!==null){(xe.flags&65536)===0&&(xe.flags|=256),nf(xe,h,g,d,n),Bl(wr(y,g));break e}}d=y=wr(y,g),Oe!==4&&(Oe=2),Ei===null?Ei=[d]:Ei.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var S=Jd(d,y,n);Id(d,S);break e;case 1:g=y;var v=d.type,k=d.stateNode;if((d.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(wn===null||!wn.has(k)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=Zd(d,g,n);Id(d,D);break e}}d=d.return}while(d!==null)}Mf(s)}catch(H){n=H,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function Af(){var e=Ks.current;return Ks.current=Vs,e===null?Vs:e}function xa(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),ze===null||(Hn&268435455)===0&&(Ys&268435455)===0||Sn(ze,be)}function to(e,n){var s=te;te|=2;var l=Af();(ze!==e||be!==n)&&(Jt=null,jn(e,n));do try{l_();break}catch(u){Df(e,u)}while(!0);if(Hl(),te=s,Ks.current=l,De!==null)throw Error(r(261));return ze=null,be=0,Oe}function l_(){for(;De!==null;)Of(De)}function a_(){for(;De!==null&&!Om();)Of(De)}function Of(e){var n=zf(e.alternate,e,yt);e.memoizedProps=e.pendingProps,n===null?Mf(e):De=n,va.current=null}function Mf(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=e_(s,n,yt),s!==null){De=s;return}}else{if(s=t_(s,n),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,De=null;return}}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);Oe===0&&(Oe=5)}function bn(e,n,s){var l=ae,u=kt.transition;try{kt.transition=null,ae=1,u_(e,n,s,l)}finally{kt.transition=u,ae=l}return null}function u_(e,n,s,l){do kr();while(Cn!==null);if((te&6)!==0)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(jm(e,d),e===ze&&(De=ze=null,be=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Xs||(Xs=!0,Uf(ss,function(){return kr(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=kt.transition,kt.transition=null;var h=ae;ae=1;var g=te;te|=4,va.current=null,r_(e,s),kf(s,e),Rg(xl),fs=!!Nl,xl=Nl=null,e.current=s,i_(s),Mm(),te=g,ae=h,kt.transition=d}else e.current=s;if(Xs&&(Xs=!1,Cn=e,Js=u),d=e.pendingLanes,d===0&&(wn=null),zm(s.stateNode),lt(e,Ne()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(qs)throw qs=!1,e=Ea,Ea=null,e;return(Js&1)!==0&&e.tag!==0&&kr(),d=e.pendingLanes,(d&1)!==0?e===Sa?Si++:(Si=0,Sa=e):Si=0,gn(),null}function kr(){if(Cn!==null){var e=Cc(Js),n=kt.transition,s=ae;try{if(kt.transition=null,ae=16>e?16:e,Cn===null)var l=!1;else{if(e=Cn,Cn=null,Js=0,(te&6)!==0)throw Error(r(331));var u=te;for(te|=4,z=e.current;z!==null;){var d=z,h=d.child;if((z.flags&16)!==0){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var T=g[y];for(z=T;z!==null;){var R=z;switch(R.tag){case 0:case 11:case 15:wi(8,R,d)}var P=R.child;if(P!==null)P.return=R,z=P;else for(;z!==null;){R=z;var N=R.sibling,F=R.return;if(vf(R),R===T){z=null;break}if(N!==null){N.return=F,z=N;break}z=F}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var xe=W.sibling;W.sibling=null,W=xe}while(W!==null)}}z=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,z=h;else e:for(;z!==null;){if(d=z,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:wi(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,z=S;break e}z=d.return}}var v=e.current;for(z=v;z!==null;){h=z;var k=h.child;if((h.subtreeFlags&2064)!==0&&k!==null)k.return=h,z=k;else e:for(h=v;z!==null;){if(g=z,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:Qs(9,g)}}catch(H){Se(g,g.return,H)}if(g===h){z=null;break e}var D=g.sibling;if(D!==null){D.return=g.return,z=D;break e}z=g.return}}if(te=u,gn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(os,e)}catch{}l=!0}return l}finally{ae=s,kt.transition=n}}return!1}function Lf(e,n,s){n=wr(s,n),n=Jd(e,n,1),e=yn(e,n,1),n=et(),e!==null&&(Qr(e,1,n),lt(e,n))}function Se(e,n,s){if(e.tag===3)Lf(e,e,s);else for(;n!==null;){if(n.tag===3){Lf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wn===null||!wn.has(l))){e=wr(s,e),e=Zd(n,e,1),n=yn(n,e,1),e=et(),n!==null&&(Qr(n,1,e),lt(n,e));break}}n=n.return}}function c_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=et(),e.pingedLanes|=e.suspendedLanes&s,ze===e&&(be&s)===s&&(Oe===4||Oe===3&&(be&130023424)===be&&500>Ne()-Ca?jn(e,0):wa|=s),lt(e,n)}function Ff(e,n){n===0&&((e.mode&1)===0?n=1:(n=as,as<<=1,(as&130023424)===0&&(as=4194304)));var s=et();e=Yt(e,n),e!==null&&(Qr(e,n,s),lt(e,s))}function d_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ff(e,s)}function f_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ff(e,s)}var zf;zf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||rt.current)st=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return st=!1,Zg(e,n,s);st=(e.flags&131072)!==0}else st=!1,ye&&(n.flags&1048576)!==0&&md(n,Ps,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;$s(e,n),e=n.pendingProps;var u=fr(n,Ge.current);yr(n,s),u=Jl(null,n,l,e,u,s);var d=Zl();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,it(l)?(d=!0,Ns(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,$l(n),u.updater=js,n.stateNode=u,u._reactInternals=n,sa(n,l,e,s),n=ua(null,n,l,!0,d,s)):(n.tag=0,ye&&d&&Ll(n),Ze(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch($s(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=p_(l),e=Rt(l,e),u){case 0:n=aa(null,n,l,e,s);break e;case 1:n=uf(null,n,l,e,s);break e;case 11:n=rf(null,n,l,e,s);break e;case 14:n=sf(null,n,l,Rt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Rt(l,u),aa(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Rt(l,u),uf(e,n,l,u,s);case 3:e:{if(cf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,kd(e,n),Fs(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=wr(Error(r(423)),n),n=df(e,n,l,s,u);break e}else if(l!==u){u=wr(Error(r(424)),n),n=df(e,n,l,s,u);break e}else for(_t=hn(n.stateNode.containerInfo.firstChild),gt=n,ye=!0,xt=null,s=Ed(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(mr(),l===u){n=Xt(e,n,s);break e}Ze(e,n,l,s)}n=n.child}return n;case 5:return Nd(n),e===null&&Ul(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Rl(l,u)?h=null:d!==null&&Rl(l,d)&&(n.flags|=32),af(e,n),Ze(e,n,h,s),n.child;case 6:return e===null&&Ul(n),null;case 13:return ff(e,n,s);case 4:return Gl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=gr(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Rt(l,u),rf(e,n,l,u,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,de(Os,l._currentValue),l._currentValue=h,d!==null)if(Nt(d.value,h)){if(d.children===u.children&&!rt.current){n=Xt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=qt(-1,s&-s),y.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var R=T.pending;R===null?y.next=y:(y.next=R.next,R.next=y),T.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),jl(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),jl(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Ze(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,yr(n,s),u=Et(u),l=l(u),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return l=n.type,u=Rt(l,n.pendingProps),u=Rt(l.type,u),sf(e,n,l,u,s);case 15:return of(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Rt(l,u),$s(e,n),n.tag=1,it(l)?(e=!0,Ns(n)):e=!1,yr(n,s),qd(n,l,u),sa(n,l,u,s),ua(null,n,l,!0,e,s);case 19:return pf(e,n,s);case 22:return lf(e,n,s)}throw Error(r(156,n.tag))};function Uf(e,n){return gc(e,n)}function h_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,s,l){return new h_(e,n,s,l)}function Ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p_(e){if(typeof e=="function")return Ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vt)return 11;if(e===Ce)return 14}return 2}function kn(e,n){var s=e.alternate;return s===null?(s=It(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function no(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Ra(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Xe:return $n(s.children,u,d,n);case ft:h=8,u|=8;break;case bt:return e=It(12,s,n,u|2),e.elementType=bt,e.lanes=d,e;case Je:return e=It(13,s,n,u),e.elementType=Je,e.lanes=d,e;case ht:return e=It(19,s,n,u),e.elementType=ht,e.lanes=d,e;case oe:return ro(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zt:h=10;break e;case on:h=9;break e;case vt:h=11;break e;case Ce:h=14;break e;case Ee:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=It(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function $n(e,n,s,l){return e=It(7,e,l,n),e.lanes=s,e}function ro(e,n,s,l){return e=It(22,e,l,n),e.elementType=oe,e.lanes=s,e.stateNode={isHidden:!1},e}function Pa(e,n,s){return e=It(6,e,null,n),e.lanes=s,e}function Da(e,n,s){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function m_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Aa(e,n,s,l,u,d,h,g,y){return e=new m_(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=It(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(d),e}function g_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Bf(e){if(!e)return mn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(it(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(it(s))return fd(e,s,n)}return n}function Wf(e,n,s,l,u,d,h,g,y){return e=Aa(s,l,!0,e,u,d,h,g,y),e.context=Bf(null),s=e.current,l=et(),u=En(s),d=qt(l,u),d.callback=n??null,yn(s,d,u),e.current.lanes=u,Qr(e,u,l),lt(e,l),e}function io(e,n,s,l){var u=n.current,d=et(),h=En(u);return s=Bf(s),n.context===null?n.context=s:n.pendingContext=s,n=qt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=yn(u,n,h),e!==null&&(At(e,u,h,d),Ls(e,u,h)),h}function so(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Hf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Oa(e,n){Hf(e,n),(e=e.alternate)&&Hf(e,n)}function __(){return null}var Vf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}oo.prototype.render=Ma.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));io(e,n,null,null)},oo.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vn(function(){io(null,e,null,null)}),n[$t]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=kc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<cn.length&&n!==0&&n<cn[s].priority;s++);cn.splice(s,0,e),s===0&&Nc(e)}};function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jf(){}function y_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var T=so(h);d.call(T)}}var h=Wf(n,l,e,0,null,!1,!1,"",jf);return e._reactRootContainer=h,e[$t]=h.current,li(e.nodeType===8?e.parentNode:e),Vn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var g=l;l=function(){var T=so(y);g.call(T)}}var y=Aa(e,0,!1,null,null,!1,!1,"",jf);return e._reactRootContainer=y,e[$t]=y.current,li(e.nodeType===8?e.parentNode:e),Vn(function(){io(n,y,s,l)}),y}function ao(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var g=u;u=function(){var y=so(h);g.call(y)}}io(n,h,e,u)}else h=y_(s,n,e,u,l);return so(h)}Ec=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Gr(n.pendingLanes);s!==0&&(sl(n,s|1),lt(n,Ne()),(te&6)===0&&(Sr=Ne()+500,gn()))}break;case 13:Vn(function(){var l=Yt(e,1);if(l!==null){var u=et();At(l,e,1,u)}}),Oa(e,1)}},ol=function(e){if(e.tag===13){var n=Yt(e,134217728);if(n!==null){var s=et();At(n,e,134217728,s)}Oa(e,134217728)}},Sc=function(e){if(e.tag===13){var n=En(e),s=Yt(e,n);if(s!==null){var l=et();At(s,e,n,l)}Oa(e,n)}},kc=function(){return ae},Ic=function(e,n){var s=ae;try{return ae=e,n()}finally{ae=s}},Jo=function(e,n,s){switch(n){case"input":if(bo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Is(l);if(!u)throw Error(r(90));Yu(l),bo(l,u)}}}break;case"textarea":ec(e,s);break;case"select":n=s.value,n!=null&&er(e,!!s.multiple,n,!1)}},uc=Ta,cc=Vn;var v_={usingClientEntryPoint:!1,Events:[ci,cr,Is,lc,ac,Ta]},ki={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w_={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pc(e),e===null?null:e.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||__,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{os=uo.inject(w_),Ut=uo}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_,at.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(n))throw Error(r(200));return g_(e,n,null,s)},at.createRoot=function(e,n){if(!La(e))throw Error(r(299));var s=!1,l="",u=Vf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Aa(e,1,!1,null,null,s,!1,l,u),e[$t]=n.current,li(e.nodeType===8?e.parentNode:e),new Ma(n)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=pc(n),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Vn(e)},at.hydrate=function(e,n,s){if(!lo(n))throw Error(r(200));return ao(null,e,n,!0,s)},at.hydrateRoot=function(e,n,s){if(!La(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=Vf;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Wf(n,null,e,1,s??null,u,!1,d,h),e[$t]=n.current,li(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new oo(n)},at.render=function(e,n,s){if(!lo(n))throw Error(r(200));return ao(null,e,n,!1,s)},at.unmountComponentAtNode=function(e){if(!lo(e))throw Error(r(40));return e._reactRootContainer?(Vn(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},at.unstable_batchedUpdates=Ta,at.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!lo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ao(e,n,s,!1,l)},at.version="18.3.1-next-f1338f8080-20240426",at}var Xf;function R_(){if(Xf)return Ua.exports;Xf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ua.exports=x_(),Ua.exports}var Jf;function P_(){if(Jf)return co;Jf=1;var i=R_();return co.createRoot=i.createRoot,co.hydrateRoot=i.hydrateRoot,co}var D_=P_();const A_=Qh(D_),O_=()=>{};var Zf={};const Kh={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const O=function(i,t){if(!i)throw Lr(t)},Lr=function(i){return new Error("Firebase Database ("+Kh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};const Yh=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},M_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},gu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,_=m?i[a+2]:0,I=c>>2,C=(c&3)<<4|p>>4;let w=(p&15)<<2|_>>6,A=_&63;m||(A=64,f||(w=64)),o.push(r[I],r[C],r[w],r[A])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Yh(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):M_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const _=a<i.length?r[i.charAt(a)]:64;++a;const C=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||_==null||C==null)throw new L_;const w=c<<2|p>>4;if(o.push(w),_!==64){const A=p<<4&240|_>>2;if(o.push(A),C!==64){const L=_<<6&192|C;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class L_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qh=function(i){const t=Yh(i);return gu.encodeByteArray(t,!0)},mo=function(i){return qh(i).replace(/\./g,"")},Ja=function(i){try{return gu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function F_(i){return Xh(void 0,i)}function Xh(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!z_(r)||(i[r]=Xh(i[r],t[r]));return i}function z_(i){return i!=="__proto__"}function U_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B_=()=>U_().__FIREBASE_DEFAULTS__,W_=()=>{if(typeof process>"u"||typeof Zf>"u")return;const i=Zf.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},H_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ja(i[1]);return t&&JSON.parse(t)},Jh=()=>{try{return O_()||B_()||W_()||H_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},V_=i=>Jh()?.emulatorHosts?.[i],j_=i=>{const t=V_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Zh=()=>Jh()?.config;class Ao{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}function _u(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b_(i){return(await fetch(i,{credentials:"include"})).ok}function $_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[mo(JSON.stringify(r)),mo(JSON.stringify(f)),""].join(".")}const Pi={};function G_(){const i={prod:[],emulator:[]};for(const t of Object.keys(Pi))Pi[t]?i.emulator.push(t):i.prod.push(t);return i}function Q_(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let eh=!1;function K_(i,t){if(typeof window>"u"||typeof document>"u"||!_u(window.location.host)||Pi[i]===t||Pi[i]||eh)return;Pi[i]=t;function r(w){return`__firebase__banner__${w}`}const o="__firebase__banner",c=G_().prod.length>0;function f(){const w=document.getElementById(o);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{eh=!0,f()},w}function I(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function C(){const w=Q_(o),A=r("text"),L=document.getElementById(A)||document.createElement("span"),V=r("learnmore"),Q=document.getElementById(V)||document.createElement("a"),Re=r("preprendIcon"),Ie=document.getElementById(Re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Pe=w.element;p(Pe),I(Q,V);const Te=_();m(Ie,Re),Pe.append(Ie,L,Q,Te),document.body.appendChild(Pe)}c?(L.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function Y_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ep(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y_())}function q_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X_(){return Kh.NODE_ADMIN===!0}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}})}const ey="FirebaseError";class Qi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=ey,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tp.prototype.create)}}class tp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?ty(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Qi(a,p,o)}}function ty(i,t){return i.replace(ny,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const ny=/\{\$([^}]+)}/g;function Fi(i){return JSON.parse(i)}function Me(i){return JSON.stringify(i)}const np=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=Fi(Ja(c[0])||""),r=Fi(Ja(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},ry=function(i){const t=np(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},iy=function(i){const t=np(i).claims;return typeof t=="object"&&t.admin===!0};function rn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Dr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function th(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function go(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function _o(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(nh(c)&&nh(f)){if(!_o(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function nh(i){return i!==null&&typeof i=="object"}function sy(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}class oy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let C=0;C<16;C++)o[C]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let C=0;C<16;C++)o[C]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let C=16;C<80;C++){const w=o[C-3]^o[C-8]^o[C-14]^o[C-16];o[C]=(w<<1|w>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,I;for(let C=0;C<80;C++){C<40?C<20?(_=p^c&(f^p),I=1518500249):(_=c^f^p,I=1859775393):C<60?(_=c&f|p&(c|f),I=2400959708):(_=c^f^p,I=3395469782);const w=(a<<5|a>>>27)+_+m+I+o[C]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=w}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function yu(i,t){return`${i} failed: ${t} argument `}const ly=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,O(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Oo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};function Fr(i){return i&&i._delegate?i._delegate:i}class zi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gn="[DEFAULT]";class ay{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Ao;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cy(t))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Gn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gn){return this.instances.has(t)}getOptions(t=Gn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){const o=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(o)??new Set;a.add(t),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&t(c,o),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:uy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Gn){return this.component?this.component.multipleInstances?t:Gn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uy(i){return i===Gn?void 0:i}function cy(i){return i.instantiationMode==="EAGER"}class dy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ay(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));const fy={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},hy=fe.INFO,py={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},my=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=py[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rp{constructor(t){this.name=t,this._logLevel=hy,this._logHandler=my,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const gy=(i,t)=>t.some(r=>i instanceof r);let rh,ih;function _y(){return rh||(rh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yy(){return ih||(ih=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ip=new WeakMap,Za=new WeakMap,sp=new WeakMap,Ha=new WeakMap,vu=new WeakMap;function vy(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Tn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&ip.set(r,i)}).catch(()=>{}),vu.set(t,i),t}function wy(i){if(Za.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Za.set(i,t)}let eu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Za.get(i);if(t==="objectStoreNames")return i.objectStoreNames||sp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Cy(i){eu=i(eu)}function Ey(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Va(this),t,...r);return sp.set(o,t.sort?t.sort():[t]),Tn(o)}:yy().includes(i)?function(...t){return i.apply(Va(this),t),Tn(ip.get(this))}:function(...t){return Tn(i.apply(Va(this),t))}}function Sy(i){return typeof i=="function"?Ey(i):(i instanceof IDBTransaction&&wy(i),gy(i,_y())?new Proxy(i,eu):i)}function Tn(i){if(i instanceof IDBRequest)return vy(i);if(Ha.has(i))return Ha.get(i);const t=Sy(i);return t!==i&&(Ha.set(i,t),vu.set(t,i)),t}const Va=i=>vu.get(i);function ky(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=Tn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Tn(f.result),m.oldVersion,m.newVersion,Tn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Iy=["get","getKey","getAll","getAllKeys","count"],Ty=["put","add","delete","clear"],ja=new Map;function sh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(ja.get(t))return ja.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Ty.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Iy.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),a&&m.done]))[0]};return ja.set(t,c),c}Cy(i=>({...i,get:(t,r,o)=>sh(t,r)||i.get(t,r,o),has:(t,r)=>!!sh(t,r)||i.has(t,r)}));class Ny{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(xy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function xy(i){return i.getComponent()?.type==="VERSION"}const tu="@firebase/app",oh="0.14.6";const tn=new rp("@firebase/app"),Ry="@firebase/app-compat",Py="@firebase/analytics-compat",Dy="@firebase/analytics",Ay="@firebase/app-check-compat",Oy="@firebase/app-check",My="@firebase/auth",Ly="@firebase/auth-compat",Fy="@firebase/database",zy="@firebase/data-connect",Uy="@firebase/database-compat",By="@firebase/functions",Wy="@firebase/functions-compat",Hy="@firebase/installations",Vy="@firebase/installations-compat",jy="@firebase/messaging",by="@firebase/messaging-compat",$y="@firebase/performance",Gy="@firebase/performance-compat",Qy="@firebase/remote-config",Ky="@firebase/remote-config-compat",Yy="@firebase/storage",qy="@firebase/storage-compat",Xy="@firebase/firestore",Jy="@firebase/ai",Zy="@firebase/firestore-compat",ev="firebase",tv="12.6.0";const nu="[DEFAULT]",nv={[tu]:"fire-core",[Ry]:"fire-core-compat",[Dy]:"fire-analytics",[Py]:"fire-analytics-compat",[Oy]:"fire-app-check",[Ay]:"fire-app-check-compat",[My]:"fire-auth",[Ly]:"fire-auth-compat",[Fy]:"fire-rtdb",[zy]:"fire-data-connect",[Uy]:"fire-rtdb-compat",[By]:"fire-fn",[Wy]:"fire-fn-compat",[Hy]:"fire-iid",[Vy]:"fire-iid-compat",[jy]:"fire-fcm",[by]:"fire-fcm-compat",[$y]:"fire-perf",[Gy]:"fire-perf-compat",[Qy]:"fire-rc",[Ky]:"fire-rc-compat",[Yy]:"fire-gcs",[qy]:"fire-gcs-compat",[Xy]:"fire-fst",[Zy]:"fire-fst-compat",[Jy]:"fire-vertex","fire-js":"fire-js",[ev]:"fire-js-all"};const yo=new Map,rv=new Map,ru=new Map;function lh(i,t){try{i.container.addComponent(t)}catch(r){tn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function vo(i){const t=i.name;if(ru.has(t))return tn.debug(`There were multiple attempts to register component ${t}.`),!1;ru.set(t,i);for(const r of yo.values())lh(r,i);for(const r of rv.values())lh(r,i);return!0}function iv(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function sv(i){return i==null?!1:i.settings!==void 0}const ov={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new tp("app","Firebase",ov);class lv{constructor(t,r,o){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}const av=tv;function op(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o={name:nu,automaticDataCollectionEnabled:!0,...t},a=o.name;if(typeof a!="string"||!a)throw Nn.create("bad-app-name",{appName:String(a)});if(r||(r=Zh()),!r)throw Nn.create("no-options");const c=yo.get(a);if(c){if(_o(r,c.options)&&_o(o,c.config))return c;throw Nn.create("duplicate-app",{appName:a})}const f=new dy(a);for(const m of ru.values())f.addComponent(m);const p=new lv(r,o,f);return yo.set(a,p),p}function uv(i=nu){const t=yo.get(i);if(!t&&i===nu&&Zh())return op();if(!t)throw Nn.create("no-app",{appName:i});return t}function xr(i,t,r){let o=nv[i]??i;r&&(o+=`-${r}`);const a=o.match(/\s|\//),c=t.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${t}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tn.warn(f.join(" "));return}vo(new zi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const cv="firebase-heartbeat-database",dv=1,Ui="firebase-heartbeat-store";let ba=null;function lp(){return ba||(ba=ky(cv,dv,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ui)}catch(r){console.warn(r)}}}}).catch(i=>{throw Nn.create("idb-open",{originalErrorMessage:i.message})})),ba}async function fv(i){try{const r=(await lp()).transaction(Ui),o=await r.objectStore(Ui).get(ap(i));return await r.done,o}catch(t){if(t instanceof Qi)tn.warn(t.message);else{const r=Nn.create("idb-get",{originalErrorMessage:t?.message});tn.warn(r.message)}}}async function ah(i,t){try{const o=(await lp()).transaction(Ui,"readwrite");await o.objectStore(Ui).put(t,ap(i)),await o.done}catch(r){if(r instanceof Qi)tn.warn(r.message);else{const o=Nn.create("idb-set",{originalErrorMessage:r?.message});tn.warn(o.message)}}}function ap(i){return`${i.name}!${i.options.appId}`}const hv=1024,pv=30;class mv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _v(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uh();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>pv){const a=yv(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uh(),{heartbeatsToSend:r,unsentEntries:o}=gv(this._heartbeatsCache.heartbeats),a=mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return tn.warn(t),""}}}function uh(){return new Date().toISOString().substring(0,10)}function gv(i,t=hv){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),ch(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),ch(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class _v{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await fv(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return ah(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return ah(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function ch(i){return mo(JSON.stringify({version:2,heartbeats:i})).length}function yv(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let o=1;o<i.length;o++)i[o].date<r&&(r=i[o].date,t=o);return t}function vv(i){vo(new zi("platform-logger",t=>new Ny(t),"PRIVATE")),vo(new zi("heartbeat",t=>new mv(t),"PRIVATE")),xr(tu,oh,i),xr(tu,oh,"esm2020"),xr("fire-js","")}vv("");var wv="firebase",Cv="12.7.0";xr(wv,Cv,"app");var dh={};const fh="@firebase/database",hh="1.1.0";let up="";function Ev(i){up=i}class Sv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Me(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Fi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class kv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const cp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sv(t)}}catch{}return new kv},Kn=cp("localStorage"),Iv=cp("sessionStorage");const Rr=new rp("@firebase/database"),Tv=(function(){let i=1;return function(){return i++}})(),dp=function(i){const t=ly(i),r=new oy;r.update(t);const o=r.digest();return gu.encodeByteArray(o)},Ki=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Ki.apply(null,o):typeof o=="object"?t+=Me(o):t+=o,t+=" "}return t};let Di=null,ph=!0;const Nv=function(i,t){O(!0,"Can't turn on custom loggers persistently."),Rr.logLevel=fe.VERBOSE,Di=Rr.log.bind(Rr)},qe=function(...i){if(ph===!0&&(ph=!1,Di===null&&Iv.get("logging_enabled")===!0&&Nv()),Di){const t=Ki.apply(null,i);Di(t)}},Yi=function(i){return function(...t){qe(i,...t)}},iu=function(...i){const t="FIREBASE INTERNAL ERROR: "+Ki(...i);Rr.error(t)},nn=function(...i){const t=`FIREBASE FATAL ERROR: ${Ki(...i)}`;throw Rr.error(t),new Error(t)},ct=function(...i){const t="FIREBASE WARNING: "+Ki(...i);Rr.warn(t)},xv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Rv=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ar="[MIN_NAME]",qn="[MAX_NAME]",zr=function(i,t){if(i===t)return 0;if(i===Ar||t===qn)return-1;if(t===Ar||i===qn)return 1;{const r=mh(i),o=mh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Pv=function(i,t){return i===t?0:i<t?-1:1},Ti=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Me(t))},wu=function(i){if(typeof i!="object"||i===null)return Me(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Me(t[o]),r+=":",r+=wu(i[t[o]]);return r+="}",r},hp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function dt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const pp=function(i){O(!fp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(a?1:0),_.reverse();const I=_.join("");let C="";for(m=0;m<64;m+=8){let w=parseInt(I.substr(m,8),2).toString(16);w.length===1&&(w="0"+w),C=C+w}return C.toLowerCase()},Dv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Av=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ov(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Mv=new RegExp("^-?(0*)\\d{1,10}$"),Lv=-2147483648,Fv=2147483647,mh=function(i){if(Mv.test(i)){const t=Number(i);if(t>=Lv&&t<=Fv)return t}return null},Ur=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ct("Exception was thrown by user callback.",r),t},Math.floor(0))}},zv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ai=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};class Uv{constructor(t,r){this.appCheckProvider=r,this.appName=t.name,sv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=r?.getImmediate({optional:!0}),this.appCheck||r?.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bv{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(t)}}class po{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}po.OWNER="owner";const Cu="5",mp="v",gp="s",_p="r",yp="f",vp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wp="ls",Cp="p",su="ac",Ep="websocket",Sp="long_polling";class kp{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1,_=null){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this.emulatorOptions=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Wv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Ip(i,t,r){O(typeof t=="string","typeof type must == string"),O(typeof r=="object","typeof params must == object");let o;if(t===Ep)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Sp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Wv(i)&&(r.ns=i.namespace);const a=[];return dt(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}class Hv{constructor(){this.counters_={}}incrementCounter(t,r=1){rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return F_(this.counters_)}}const $a={},Ga={};function Eu(i){const t=i.toString();return $a[t]||($a[t]=new Hv),$a[t]}function Vv(i,t){const r=i.toString();return Ga[r]||(Ga[r]=t()),Ga[r]}class jv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Ur(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const gh="start",bv="close",$v="pLPCommand",Gv="pRTLPCB",Tp="id",Np="pw",xp="ser",Qv="cb",Kv="seg",Yv="ts",qv="d",Xv="dframe",Rp=1870,Pp=30,Jv=Rp-Pp,Zv=25e3,e1=3e4;class Nr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yi(t),this.stats_=Eu(r),this.urlFn=m=>(this.appCheckToken&&(m[su]=this.appCheckToken),Ip(r,Sp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new jv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(e1)),Rv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Su((...c)=>{const[f,p,m,_,I]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===gh)this.id=p,this.password=m;else if(f===bv)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[gh]="t",o[xp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Qv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[mp]=Cu,this.transportSessionId&&(o[gp]=this.transportSessionId),this.lastSessionId&&(o[wp]=this.lastSessionId),this.applicationId&&(o[Cp]=this.applicationId),this.appCheckToken&&(o[su]=this.appCheckToken),typeof location<"u"&&location.hostname&&vp.test(location.hostname)&&(o[_p]=yp);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nr.forceAllow_=!0}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){return Nr.forceAllow_?!0:!Nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Dv()&&!Av()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Me(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=qh(r),a=hp(o,Jv);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Xv]="t",o[Tp]=t,o[Np]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Me(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Su{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tv(),window[$v+this.uniqueCallbackIdentifier]=t,window[Gv+this.uniqueCallbackIdentifier]=r,this.myIFrame=Su.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){qe("frame writing exception"),p.stack&&qe(p.stack),qe(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Tp]=this.myID,t[Np]=this.myPW,t[xp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pp+o.length<=Rp;){const f=this.pendingSegs.shift();o=o+"&"+Kv+a+"="+f.seg+"&"+Yv+a+"="+f.ts+"&"+qv+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(Zv)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}const t1=16384,n1=45e3;let wo=null;typeof MozWebSocket<"u"?wo=MozWebSocket:typeof WebSocket<"u"&&(wo=WebSocket);class Ot{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yi(this.connId),this.stats_=Eu(r),this.connURL=Ot.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[mp]=Cu,typeof location<"u"&&location.hostname&&vp.test(location.hostname)&&(f[_p]=yp),r&&(f[gp]=r),o&&(f[wp]=o),a&&(f[su]=a),c&&(f[Cp]=c),Ip(t,Ep,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kn.set("previous_websocket_failure",!0);try{let o;X_(),this.mySock=new wo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Ot.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&wo!==null&&!Ot.forceDisallow_}static previouslyFailed(){return Kn.isInMemoryStorage||Kn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Fi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Me(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=hp(r,t1);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(n1))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ot.responsesRequiredToBeHealthy=2;Ot.healthyTimeout=3e4;class Bi{static get ALL_TRANSPORTS(){return[Nr,Ot]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Ot&&Ot.isAvailable();let o=r&&!Ot.previouslyFailed();if(t.webSocketOnly&&(r||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ot];else{const a=this.transports_=[];for(const c of Bi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Bi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bi.globalTransportInitialized_=!1;const r1=6e4,i1=5e3,s1=10*1024,o1=100*1024,Qa="t",_h="d",l1="s",yh="r",a1="e",vh="o",wh="a",Ch="n",Eh="p",u1="h";class c1{constructor(t,r,o,a,c,f,p,m,_,I){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yi("c:"+this.id+":"),this.transportManager_=new Bi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>o1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>s1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Qa in t){const r=t[Qa];r===wh?this.upgradeIfSecondaryHealthy_():r===yh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===vh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ti("t",t),o=Ti("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Eh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ch,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ti("t",t),o=Ti("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ti(Qa,t);if(_h in t){const o=t[_h];if(r===u1){const a={...o};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===Ch){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===l1?this.onConnectionShutdown_(o):r===yh?this.onReset_(o):r===a1?iu("Server Error: "+o):r===vh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Cu!==o&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(r1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(i1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Eh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Dp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}class Ap{constructor(t){this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){O(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}class Co extends Ap{static getInstance(){return new Co}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ep()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return O(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Sh=32,kh=768;class ue{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function se(){return new ue("")}function ee(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Pn(i){return i.pieces_.length-i.pieceNum_}function he(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ue(i.pieces_,t)}function Op(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function d1(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Mp(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Lp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ue(t,0)}function Le(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ue)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new ue(r,0)}function Z(i){return i.pieceNum_>=i.pieces_.length}function nt(i,t){const r=ee(i),o=ee(t);if(r===null)return t;if(r===o)return nt(he(i),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function Fp(i,t){if(Pn(i)!==Pn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Mt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Pn(i)>Pn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class f1{constructor(t,r){this.errorPrefix_=r,this.parts_=Mp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Oo(this.parts_[o]);zp(this)}}function h1(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Oo(t),zp(i)}function p1(i){const t=i.parts_.pop();i.byteLength_-=Oo(t),i.parts_.length>0&&(i.byteLength_-=1)}function zp(i){if(i.byteLength_>kh)throw new Error(i.errorPrefix_+"has a key path longer than "+kh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Sh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Sh+") or object contains a cycle "+Qn(i))}function Qn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}class ku extends Ap{static getInstance(){return new ku}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return O(t==="visible","Unknown event type: "+t),[this.visible_]}}const Ni=1e3,m1=300*1e3,Ih=30*1e3,g1=1.3,_1=3e4,y1="server_kill",Th=3;class en extends Dp{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=en.nextPersistentConnectionId_++,this.log_=Yi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ni,this.maxReconnectDelay_=m1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ku.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Co.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Me(c)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Ao,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;en.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&rn(t,"w")){const o=Dr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||iy(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ih)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=ry(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Me(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):iu("Unrecognized action received from server: "+Me(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_1&&(this.reconnectDelay_=Ni),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*g1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+en.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(C){O(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(C)};this.realtime_={close:m,sendRequest:_};const I=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,w]=await Promise.all([this.authTokenProvider_.getToken(I),this.appCheckTokenProvider_.getToken(I)]);f?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=w&&w.token,p=new c1(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,A=>{ct(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(y1)},c))}catch(C){this.log_("Failed to get token: "+C),f||(this.repoInfo_.nodeAdmin&&ct(C),m())}}}interrupt(t){qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],th(this.interruptReasons_)&&(this.reconnectDelay_=Ni,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>wu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new ue(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){qe("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Th&&(this.reconnectDelay_=Ih,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){qe("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Th&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+up.replace(/\./g,"-")]=1,ep()?t["framework.cordova"]=1:q_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Co.getInstance().currentlyOnline();return th(this.interruptReasons_)&&t}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;class X{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new X(t,r)}}class Mo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new X(Ar,t),a=new X(Ar,r);return this.compare(o,a)!==0}minPost(){return X.MIN}}let fo;class Up extends Mo{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(t){fo=t}compare(t,r){return zr(t.name,r.name)}isDefinedOn(t){throw Lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return X.MIN}maxPost(){return new X(qn,fo)}makePost(t,r){return O(typeof t=="string","KeyIndex indexValue must always be a string."),new X(t,fo)}toString(){return".key"}}const Pr=new Up;class ho{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??We.RED,this.left=a??ut.EMPTY_NODE,this.right=c??ut.EMPTY_NODE}copy(t,r,o,a,c){return new We(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ut.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class v1{copy(t,r,o,a,c){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ut{constructor(t,r=ut.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ut(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new ho(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new ho(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new ho(this.root_,null,this.comparator_,!0,t)}}ut.EMPTY_NODE=new v1;function w1(i,t){return zr(i.name,t.name)}function Iu(i,t){return zr(i,t)}let ou;function C1(i){ou=i}const Bp=function(i){return typeof i=="number"?"number:"+pp(i):"string:"+i},Wp=function(i){if(i.isLeafNode()){const t=i.val();O(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rn(t,".sv"),"Priority must be a string or number.")}else O(i===ou||i.isEmpty(),"priority of unexpected type.");O(i===ou||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Nh;class Be{static set __childrenNodeConstructor(t){Nh=t}static get __childrenNodeConstructor(){return Nh}constructor(t,r=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:ee(t)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ee(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(O(o!==".priority"||Pn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Bp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=pp(this.value_):t+=this.value_,this.lazyHash_=dp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Be.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=Be.VALUE_TYPE_ORDER.indexOf(r),c=Be.VALUE_TYPE_ORDER.indexOf(o);return O(a>=0,"Unknown leaf type: "+r),O(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Hp,Vp;function E1(i){Hp=i}function S1(i){Vp=i}class k1 extends Mo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?zr(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return X.MIN}maxPost(){return new X(qn,new Be("[PRIORITY-POST]",Vp))}makePost(t,r){const o=Hp(t);return new X(r,new Be("[PRIORITY-POST]",o))}toString(){return".priority"}}const ke=new k1;const I1=Math.log(2);class T1{constructor(t){const r=c=>parseInt(Math.log(c)/I1,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Eo=function(i,t,r,o){i.sort(t);const a=function(m,_){const I=_-m;let C,w;if(I===0)return null;if(I===1)return C=i[m],w=r?r(C):C,new We(w,C.node,We.BLACK,null,null);{const A=parseInt(I/2,10)+m,L=a(m,A),V=a(A+1,_);return C=i[A],w=r?r(C):C,new We(w,C.node,We.BLACK,L,V)}},c=function(m){let _=null,I=null,C=i.length;const w=function(L,V){const Q=C-L,Re=C;C-=L;const Ie=a(Q+1,Re),Pe=i[Q],Te=r?r(Pe):Pe;A(new We(Te,Pe.node,V,null,Ie))},A=function(L){_?(_.left=L,_=L):(I=L,_=L)};for(let L=0;L<m.count;++L){const V=m.nextBitIsOne(),Q=Math.pow(2,m.count-(L+1));V?w(Q,We.BLACK):(w(Q,We.BLACK),w(Q,We.RED))}return I},f=new T1(i.length),p=c(f);return new ut(o||t,p)};let Ka;const Ir={};class Zt{static get Default(){return O(Ir&&ke,"ChildrenNode.ts has not been loaded"),Ka=Ka||new Zt({".priority":Ir},{".priority":ke}),Ka}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Dr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ut?r:null}hasIndex(t){return rn(this.indexSet_,t.toString())}addIndex(t,r){O(t!==Pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(X.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=Eo(o,t.getCompare()):p=Ir;const m=t.toString(),_={...this.indexSet_};_[m]=t;const I={...this.indexes_};return I[m]=p,new Zt(I,_)}addToIndexes(t,r){const o=go(this.indexes_,(a,c)=>{const f=Dr(this.indexSet_,c);if(O(f,"Missing index implementation for "+c),a===Ir)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(X.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),Eo(p,f.getCompare())}else return Ir;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new X(t.name,p))),m.insert(t,t.node)}});return new Zt(o,this.indexSet_)}removeFromIndexes(t,r){const o=go(this.indexes_,a=>{if(a===Ir)return a;{const c=r.get(t.name);return c?a.remove(new X(t.name,c)):a}});return new Zt(o,this.indexSet_)}}let xi;class G{static get EMPTY_NODE(){return xi||(xi=new G(new ut(Iu),null,Zt.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Wp(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xi}updatePriority(t){return this.children_.isEmpty()?this:new G(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?xi:r}}getChild(t){const r=ee(t);return r===null?this:this.getImmediateChild(r).getChild(he(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(O(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new X(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?xi:this.priorityNode_;return new G(a,f,c)}}updateChild(t,r){const o=ee(t);if(o===null)return r;{O(ee(t)!==".priority"||Pn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(he(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(ke,(f,p)=>{r[f]=p.val(t),o++,c&&G.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Bp(this.getPriority().val())+":"),this.forEachChild(ke,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":dp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new X(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new X(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new X(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,X.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,X.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qi?-1:0}withIndex(t){if(t===Pr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new G(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Pr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(ke),a=r.getIterator(ke);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Pr?null:this.indexMap_.get(t.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class N1 extends G{constructor(){super(new ut(Iu),G.EMPTY_NODE,Zt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return G.EMPTY_NODE}isEmpty(){return!1}}const qi=new N1;Object.defineProperties(X,{MIN:{value:new X(Ar,G.EMPTY_NODE)},MAX:{value:new X(qn,qi)}});Up.__EMPTY_NODE=G.EMPTY_NODE;Be.__childrenNodeConstructor=G;C1(qi);S1(qi);const x1=!0;function He(i,t=null){if(i===null)return G.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),O(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Be(r,He(t))}if(!(i instanceof Array)&&x1){const r=[];let o=!1;if(dt(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=He(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new X(f,m)))}}),r.length===0)return G.EMPTY_NODE;const c=Eo(r,w1,f=>f.name,Iu);if(o){const f=Eo(r,ke.getCompare());return new G(c,He(t),new Zt({".priority":f},{".priority":ke}))}else return new G(c,He(t),Zt.Default)}else{let r=G.EMPTY_NODE;return dt(i,(o,a)=>{if(rn(i,o)&&o.substring(0,1)!=="."){const c=He(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(He(t))}}E1(He);class R1 extends Mo{constructor(t){super(),this.indexPath_=t,O(!Z(t)&&ee(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?zr(t.name,r.name):c}makePost(t,r){const o=He(t),a=G.EMPTY_NODE.updateChild(this.indexPath_,o);return new X(r,a)}maxPost(){const t=G.EMPTY_NODE.updateChild(this.indexPath_,qi);return new X(qn,t)}toString(){return Mp(this.indexPath_,0).join("/")}}class P1 extends Mo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?zr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,r){const o=He(t);return new X(r,o)}toString(){return".value"}}const D1=new P1;function jp(i){return{type:"value",snapshotNode:i}}function Or(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Wi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Hi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function A1(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}class Tu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){O(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Wi(r,p)):O(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Or(r,o)):f.trackChildChange(Hi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(ke,(a,c)=>{r.hasChild(a)||o.trackChildChange(Wi(a,c))}),r.isLeafNode()||r.forEachChild(ke,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(Hi(a,c,f))}else o.trackChildChange(Or(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?G.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Vi{constructor(t){this.indexedFilter_=new Tu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Vi.getStartPost_(t),this.endPost_=Vi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new X(r,o))||(o=G.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=G.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(G.EMPTY_NODE);const c=this;return r.forEachChild(ke,(f,p)=>{c.matches(new X(f,p))||(a=a.updateImmediateChild(f,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}class O1{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Vi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new X(r,o))||(o=G.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=G.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(G.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const C=this.index_.getCompare();f=(w,A)=>C(A,w)}else f=this.index_.getCompare();const p=t;O(p.numChildren()===this.limit_,"");const m=new X(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),I=this.rangedFilter_.matches(m);if(p.hasChild(r)){const C=p.getImmediateChild(r);let w=a.getChildAfterChild(this.index_,_,this.reverse_);for(;w!=null&&(w.name===r||p.hasChild(w.name));)w=a.getChildAfterChild(this.index_,w,this.reverse_);const A=w==null?1:f(w,m);if(I&&!o.isEmpty()&&A>=0)return c?.trackChildChange(Hi(r,o,C)),p.updateImmediateChild(r,o);{c?.trackChildChange(Wi(r,C));const V=p.updateImmediateChild(r,G.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(c?.trackChildChange(Or(w.name,w.node)),V.updateImmediateChild(w.name,w.node)):V}}else return o.isEmpty()?t:I&&f(_,m)>=0?(c!=null&&(c.trackChildChange(Wi(_.name,_.node)),c.trackChildChange(Or(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,G.EMPTY_NODE)):t}}class Nu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const t=new Nu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function M1(i){return i.loadsAllData()?new Tu(i.getIndex()):i.hasLimit()?new O1(i):new Vi(i)}function xh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===ke?r="$priority":i.index_===D1?r="$value":i.index_===Pr?r="$key":(O(i.index_ instanceof R1,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Me(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Me(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Me(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Me(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Me(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Rh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==ke&&(t.i=i.index_.toString()),t}class So extends Dp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(O(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Yi("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=So.getListenId_(t,o),p={};this.listens_[f]=p;const m=xh(t._queryParams);this.restRequest_(c+".json",m,(_,I)=>{let C=I;if(_===404&&(C=null,_=null),_===null&&this.onDataUpdate_(c,C,!1,o),Dr(this.listens_,f)===p){let w;_?_===401?w="permission_denied":w="rest_error:"+_:w="ok",a(w,null)}})}unlisten(t,r){const o=So.getListenId_(t,r);delete this.listens_[o]}get(t){const r=xh(t._queryParams),o=t._path.toString(),a=new Ao;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+sy(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Fi(p.responseText)}catch{ct("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ct("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}class L1{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}function ko(){return{value:null,children:new Map}}function bp(i,t,r){if(Z(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ee(t);i.children.has(o)||i.children.set(o,ko());const a=i.children.get(o);t=he(t),bp(a,t,r)}}function lu(i,t,r){i.value!==null?r(t,i.value):F1(i,(o,a)=>{const c=new ue(t.toString()+"/"+o);lu(a,c,r)})}function F1(i,t){i.children.forEach((r,o)=>{t(o,r)})}class z1{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r={...t};return this.last_&&dt(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}const Ph=10*1e3,U1=30*1e3,B1=300*1e3;class W1{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new z1(t);const o=Ph+(U1-Ph)*Math.random();Ai(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;dt(t,(a,c)=>{c>0&&rn(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*B1))}}var Lt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Lt||(Lt={}));function $p(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ru(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Io{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Lt.ACK_USER_WRITE,this.source=$p()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ue(t));return new Io(se(),r,this.revert)}}else return O(ee(this.path)===t,"operationForChild called for unrelated child."),new Io(he(this.path),this.affectedTree,this.revert)}}class ji{constructor(t,r){this.source=t,this.path=r,this.type=Lt.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new ji(this.source,se()):new ji(this.source,he(this.path))}}class Xn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Lt.OVERWRITE}operationForChild(t){return Z(this.path)?new Xn(this.source,se(),this.snap.getImmediateChild(t)):new Xn(this.source,he(this.path),this.snap)}}class bi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Lt.MERGE}operationForChild(t){if(Z(this.path)){const r=this.children.subtree(new ue(t));return r.isEmpty()?null:r.value?new Xn(this.source,se(),r.value):new bi(this.source,se(),r)}else return O(ee(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new bi(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Dn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const r=ee(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class H1{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function V1(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(A1(f.childName,f.snapshotNode))}),Ri(i,a,"child_removed",t,o,r),Ri(i,a,"child_added",t,o,r),Ri(i,a,"child_moved",c,o,r),Ri(i,a,"child_changed",t,o,r),Ri(i,a,"value",t,o,r),a}function Ri(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>b1(i,p,m)),f.forEach(p=>{const m=j1(i,p,c);a.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function j1(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function b1(i,t,r){if(t.childName==null||r.childName==null)throw Lr("Should only compare child_ events.");const o=new X(t.childName,t.snapshotNode),a=new X(r.childName,r.snapshotNode);return i.index_.compare(o,a)}function Lo(i,t){return{eventCache:i,serverCache:t}}function Oi(i,t,r,o){return Lo(new Dn(t,r,o),i.serverCache)}function Gp(i,t,r,o){return Lo(i.eventCache,new Dn(t,r,o))}function To(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Ya;const $1=()=>(Ya||(Ya=new ut(Pv)),Ya);class ge{static fromObject(t){let r=new ge(null);return dt(t,(o,a)=>{r=r.set(new ue(o),a)}),r}constructor(t,r=$1()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:se(),value:this.value};if(Z(t))return null;{const o=ee(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(he(t),r);return c!=null?{path:Le(new ue(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const r=ee(t),o=this.children.get(r);return o!==null?o.subtree(he(t)):new ge(null)}}set(t,r){if(Z(t))return new ge(r,this.children);{const o=ee(t),c=(this.children.get(o)||new ge(null)).set(he(t),r),f=this.children.insert(o,c);return new ge(this.value,f)}}remove(t){if(Z(t))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const r=ee(t),o=this.children.get(r);if(o){const a=o.remove(he(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new ge(null):new ge(this.value,c)}else return this}}get(t){if(Z(t))return this.value;{const r=ee(t),o=this.children.get(r);return o?o.get(he(t)):null}}setTree(t,r){if(Z(t))return r;{const o=ee(t),c=(this.children.get(o)||new ge(null)).setTree(he(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new ge(this.value,f)}}fold(t){return this.fold_(se(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Le(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,se(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(Z(t))return null;{const c=ee(t),f=this.children.get(c);return f?f.findOnPath_(he(t),Le(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,se(),r)}foreachOnPath_(t,r,o){if(Z(t))return this;{this.value&&o(r,this.value);const a=ee(t),c=this.children.get(a);return c?c.foreachOnPath_(he(t),Le(r,a),o):new ge(null)}}foreach(t){this.foreach_(se(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Le(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}class Ft{constructor(t){this.writeTree_=t}static empty(){return new Ft(new ge(null))}}function Mi(i,t,r){if(Z(t))return new Ft(new ge(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=nt(a,t);return c=c.updateChild(f,r),new Ft(i.writeTree_.set(a,c))}else{const a=new ge(r),c=i.writeTree_.setTree(t,a);return new Ft(c)}}}function Dh(i,t,r){let o=i;return dt(r,(a,c)=>{o=Mi(o,Le(t,a),c)}),o}function Ah(i,t){if(Z(t))return Ft.empty();{const r=i.writeTree_.setTree(t,new ge(null));return new Ft(r)}}function au(i,t){return Zn(i,t)!=null}function Zn(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(nt(r.path,t)):null}function Oh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(ke,(o,a)=>{t.push(new X(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new X(o,a.value))}),t}function xn(i,t){if(Z(t))return i;{const r=Zn(i,t);return r!=null?new Ft(new ge(r)):new Ft(i.writeTree_.subtree(t))}}function uu(i){return i.writeTree_.isEmpty()}function Mr(i,t){return Qp(se(),i.writeTree_,t)}function Qp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(O(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Qp(Le(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Le(i,".priority"),o)),r}}function Fo(i,t){return Xp(t,i)}function G1(i,t,r,o,a){O(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Mi(i.visibleWrites,t,r)),i.lastWriteId=o}function Q1(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function K1(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);O(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&Y1(p,o.path)?a=!1:Mt(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return q1(i),!0;if(o.snap)i.visibleWrites=Ah(i.visibleWrites,o.path);else{const p=o.children;dt(p,m=>{i.visibleWrites=Ah(i.visibleWrites,Le(o.path,m))})}return!0}else return!1}function Y1(i,t){if(i.snap)return Mt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Mt(Le(i.path,r),t))return!0;return!1}function q1(i){i.visibleWrites=Kp(i.allWrites,X1,se()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function X1(i){return i.visible}function Kp(i,t,r){let o=Ft.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)Mt(r,f)?(p=nt(r,f),o=Mi(o,p,c.snap)):Mt(f,r)&&(p=nt(f,r),o=Mi(o,se(),c.snap.getChild(p)));else if(c.children){if(Mt(r,f))p=nt(r,f),o=Dh(o,p,c.children);else if(Mt(f,r))if(p=nt(f,r),Z(p))o=Dh(o,se(),c.children);else{const m=Dr(c.children,ee(p));if(m){const _=m.getChild(he(p));o=Mi(o,se(),_)}}}else throw Lr("WriteRecord should have .snap or .children")}}return o}function Yp(i,t,r,o,a){if(!o&&!a){const c=Zn(i.visibleWrites,t);if(c!=null)return c;{const f=xn(i.visibleWrites,t);if(uu(f))return r;if(r==null&&!au(f,se()))return null;{const p=r||G.EMPTY_NODE;return Mr(f,p)}}}else{const c=xn(i.visibleWrites,t);if(!a&&uu(c))return r;if(!a&&r==null&&!au(c,se()))return null;{const f=function(_){return(_.visible||a)&&(!o||!~o.indexOf(_.writeId))&&(Mt(_.path,t)||Mt(t,_.path))},p=Kp(i.allWrites,f,t),m=r||G.EMPTY_NODE;return Mr(p,m)}}}function J1(i,t,r){let o=G.EMPTY_NODE;const a=Zn(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(ke,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=xn(i.visibleWrites,t);return r.forEachChild(ke,(f,p)=>{const m=Mr(xn(c,new ue(f)),p);o=o.updateImmediateChild(f,m)}),Oh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=xn(i.visibleWrites,t);return Oh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function Z1(i,t,r,o,a){O(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Le(t,r);if(au(i.visibleWrites,c))return null;{const f=xn(i.visibleWrites,c);return uu(f)?a.getChild(r):Mr(f,a.getChild(r))}}function ew(i,t,r,o){const a=Le(t,r),c=Zn(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=xn(i.visibleWrites,a);return Mr(f,o.getNode().getImmediateChild(r))}else return null}function tw(i,t){return Zn(i.visibleWrites,t)}function nw(i,t,r,o,a,c,f){let p;const m=xn(i.visibleWrites,t),_=Zn(m,se());if(_!=null)p=_;else if(r!=null)p=Mr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const I=[],C=f.getCompare(),w=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let A=w.getNext();for(;A&&I.length<a;)C(A,o)!==0&&I.push(A),A=w.getNext();return I}else return[]}function rw(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function No(i,t,r,o){return Yp(i.writeTree,i.treePath,t,r,o)}function Pu(i,t){return J1(i.writeTree,i.treePath,t)}function Mh(i,t,r,o){return Z1(i.writeTree,i.treePath,t,r,o)}function xo(i,t){return tw(i.writeTree,Le(i.treePath,t))}function iw(i,t,r,o,a,c){return nw(i.writeTree,i.treePath,t,r,o,a,c)}function Du(i,t,r){return ew(i.writeTree,i.treePath,t,r)}function qp(i,t){return Xp(Le(i.treePath,t),i.writeTree)}function Xp(i,t){return{treePath:i,writeTree:t}}class sw{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;O(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),O(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Hi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Wi(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Or(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Hi(o,t.snapshotNode,a.oldSnap));else throw Lr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}class ow{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Jp=new ow;class Au{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Du(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jn(this.viewCache_),c=iw(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}function lw(i){return{filter:i}}function aw(i,t){O(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),O(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function uw(i,t,r,o,a){const c=new sw;let f,p;if(r.type===Lt.OVERWRITE){const _=r;_.source.fromUser?f=cu(i,t,_.path,_.snap,o,a,c):(O(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!Z(_.path),f=Ro(i,t,_.path,_.snap,o,a,p,c))}else if(r.type===Lt.MERGE){const _=r;_.source.fromUser?f=dw(i,t,_.path,_.children,o,a,c):(O(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=du(i,t,_.path,_.children,o,a,p,c))}else if(r.type===Lt.ACK_USER_WRITE){const _=r;_.revert?f=pw(i,t,_.path,o,a,c):f=fw(i,t,_.path,_.affectedTree,o,a,c)}else if(r.type===Lt.LISTEN_COMPLETE)f=hw(i,t,r.path,o,c);else throw Lr("Unknown operation type: "+r.type);const m=c.getChanges();return cw(t,f,m),{viewCache:f,changes:m}}function cw(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=To(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(jp(To(t)))}}function Zp(i,t,r,o,a,c){const f=t.eventCache;if(xo(o,r)!=null)return t;{let p,m;if(Z(r))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Jn(t),I=_ instanceof G?_:G.EMPTY_NODE,C=Pu(o,I);p=i.filter.updateFullNode(t.eventCache.getNode(),C,c)}else{const _=No(o,Jn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=ee(r);if(_===".priority"){O(Pn(r)===1,"Can't have a priority with additional path components");const I=f.getNode();m=t.serverCache.getNode();const C=Mh(o,r,I,m);C!=null?p=i.filter.updatePriority(I,C):p=f.getNode()}else{const I=he(r);let C;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const w=Mh(o,r,f.getNode(),m);w!=null?C=f.getNode().getImmediateChild(_).updateChild(I,w):C=f.getNode().getImmediateChild(_)}else C=Du(o,_,t.serverCache);C!=null?p=i.filter.updateChild(f.getNode(),_,C,I,a,c):p=f.getNode()}}return Oi(t,p,f.isFullyInitialized()||Z(r),i.filter.filtersNodes())}}function Ro(i,t,r,o,a,c,f,p){const m=t.serverCache;let _;const I=f?i.filter:i.filter.getIndexedFilter();if(Z(r))_=I.updateFullNode(m.getNode(),o,null);else if(I.filtersNodes()&&!m.isFiltered()){const A=m.getNode().updateChild(r,o);_=I.updateFullNode(m.getNode(),A,null)}else{const A=ee(r);if(!m.isCompleteForPath(r)&&Pn(r)>1)return t;const L=he(r),Q=m.getNode().getImmediateChild(A).updateChild(L,o);A===".priority"?_=I.updatePriority(m.getNode(),Q):_=I.updateChild(m.getNode(),A,Q,L,Jp,null)}const C=Gp(t,_,m.isFullyInitialized()||Z(r),I.filtersNodes()),w=new Au(a,C,c);return Zp(i,C,r,a,w,p)}function cu(i,t,r,o,a,c,f){const p=t.eventCache;let m,_;const I=new Au(a,t,c);if(Z(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Oi(t,_,!0,i.filter.filtersNodes());else{const C=ee(r);if(C===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Oi(t,_,p.isFullyInitialized(),p.isFiltered());else{const w=he(r),A=p.getNode().getImmediateChild(C);let L;if(Z(w))L=o;else{const V=I.getCompleteChild(C);V!=null?Op(w)===".priority"&&V.getChild(Lp(w)).isEmpty()?L=V:L=V.updateChild(w,o):L=G.EMPTY_NODE}if(A.equals(L))m=t;else{const V=i.filter.updateChild(p.getNode(),C,L,w,I,f);m=Oi(t,V,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Lh(i,t){return i.eventCache.isCompleteForChild(t)}function dw(i,t,r,o,a,c,f){let p=t;return o.foreach((m,_)=>{const I=Le(r,m);Lh(t,ee(I))&&(p=cu(i,p,I,_,a,c,f))}),o.foreach((m,_)=>{const I=Le(r,m);Lh(t,ee(I))||(p=cu(i,p,I,_,a,c,f))}),p}function Fh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function du(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;Z(r)?_=o:_=new ge(null).setTree(r,o);const I=t.serverCache.getNode();return _.children.inorderTraversal((C,w)=>{if(I.hasChild(C)){const A=t.serverCache.getNode().getImmediateChild(C),L=Fh(i,A,w);m=Ro(i,m,new ue(C),L,a,c,f,p)}}),_.children.inorderTraversal((C,w)=>{const A=!t.serverCache.isCompleteForChild(C)&&w.value===null;if(!I.hasChild(C)&&!A){const L=t.serverCache.getNode().getImmediateChild(C),V=Fh(i,L,w);m=Ro(i,m,new ue(C),V,a,c,f,p)}}),m}function fw(i,t,r,o,a,c,f){if(xo(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(Z(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Ro(i,t,r,m.getNode().getChild(r),a,c,p,f);if(Z(r)){let _=new ge(null);return m.getNode().forEachChild(Pr,(I,C)=>{_=_.set(new ue(I),C)}),du(i,t,r,_,a,c,p,f)}else return t}else{let _=new ge(null);return o.foreach((I,C)=>{const w=Le(r,I);m.isCompleteForPath(w)&&(_=_.set(I,m.getNode().getChild(w)))}),du(i,t,r,_,a,c,p,f)}}function hw(i,t,r,o,a){const c=t.serverCache,f=Gp(t,c.getNode(),c.isFullyInitialized()||Z(r),c.isFiltered());return Zp(i,f,r,o,Jp,a)}function pw(i,t,r,o,a,c){let f;if(xo(o,r)!=null)return t;{const p=new Au(o,t,a),m=t.eventCache.getNode();let _;if(Z(r)||ee(r)===".priority"){let I;if(t.serverCache.isFullyInitialized())I=No(o,Jn(t));else{const C=t.serverCache.getNode();O(C instanceof G,"serverChildren would be complete if leaf node"),I=Pu(o,C)}I=I,_=i.filter.updateFullNode(m,I,c)}else{const I=ee(r);let C=Du(o,I,t.serverCache);C==null&&t.serverCache.isCompleteForChild(I)&&(C=m.getImmediateChild(I)),C!=null?_=i.filter.updateChild(m,I,C,he(r),p,c):t.eventCache.getNode().hasChild(I)?_=i.filter.updateChild(m,I,G.EMPTY_NODE,he(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=No(o,Jn(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||xo(o,se())!=null,Oi(t,_,f,i.filter.filtersNodes())}}class mw{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Tu(o.getIndex()),c=M1(o);this.processor_=lw(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(G.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(G.EMPTY_NODE,p.getNode(),null),I=new Dn(m,f.isFullyInitialized(),a.filtersNodes()),C=new Dn(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Lo(C,I),this.eventGenerator_=new H1(this.query_)}get query(){return this.query_}}function gw(i){return i.viewCache_.serverCache.getNode()}function _w(i){return To(i.viewCache_)}function yw(i,t){const r=Jn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!Z(t)&&!r.getImmediateChild(ee(t)).isEmpty())?r.getChild(t):null}function zh(i){return i.eventRegistrations_.length===0}function vw(i,t){i.eventRegistrations_.push(t)}function Uh(i,t,r){const o=[];if(r){O(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function Bh(i,t,r,o){t.type===Lt.MERGE&&t.source.queryId!==null&&(O(Jn(i.viewCache_),"We should always have a full cache before handling merges"),O(To(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=uw(i.processor_,a,t,r,o);return aw(i.processor_,c.viewCache),O(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,em(i,c.changes,c.viewCache.eventCache.getNode(),null)}function ww(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ke,(c,f)=>{o.push(Or(c,f))}),r.isFullyInitialized()&&o.push(jp(r.getNode())),em(i,o,r.getNode(),t)}function em(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return V1(i.eventGenerator_,t,r,a)}let Po;class tm{constructor(){this.views=new Map}}function Cw(i){O(!Po,"__referenceConstructor has already been defined"),Po=i}function Ew(){return O(Po,"Reference.ts has not been loaded"),Po}function Sw(i){return i.views.size===0}function Ou(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return O(c!=null,"SyncTree gave us an op for an invalid query."),Bh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Bh(f,t,r,o));return c}}function nm(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=No(r,a?o:null),m=!1;p?m=!0:o instanceof G?(p=Pu(r,o),m=!1):(p=G.EMPTY_NODE,m=!1);const _=Lo(new Dn(p,m,!1),new Dn(o,a,!1));return new mw(t,_)}return f}function kw(i,t,r,o,a,c){const f=nm(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),vw(f,r),ww(f,r)}function Iw(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=An(i);if(a==="default")for(const[m,_]of i.views.entries())f=f.concat(Uh(_,r,o)),zh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(a);m&&(f=f.concat(Uh(m,r,o)),zh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!An(i)&&c.push(new(Ew())(t._repo,t._path)),{removed:c,events:f}}function rm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Rn(i,t){let r=null;for(const o of i.views.values())r=r||yw(o,t);return r}function im(i,t){if(t._queryParams.loadsAllData())return zo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function sm(i,t){return im(i,t)!=null}function An(i){return zo(i)!=null}function zo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Do;function Tw(i){O(!Do,"__referenceConstructor has already been defined"),Do=i}function Nw(){return O(Do,"Reference.ts has not been loaded"),Do}let xw=1;class Wh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ge(null),this.pendingWriteTree_=rw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function om(i,t,r,o,a){return G1(i.pendingWriteTree_,t,r,o,a),a?Ji(i,new Xn($p(),t,r)):[]}function Yn(i,t,r=!1){const o=Q1(i.pendingWriteTree_,t);if(K1(i.pendingWriteTree_,t)){let c=new ge(null);return o.snap!=null?c=c.set(se(),!0):dt(o.children,f=>{c=c.set(new ue(f),!0)}),Ji(i,new Io(o.path,c,r))}else return[]}function Xi(i,t,r){return Ji(i,new Xn(xu(),t,r))}function Rw(i,t,r){const o=ge.fromObject(r);return Ji(i,new bi(xu(),t,o))}function Pw(i,t){return Ji(i,new ji(xu(),t))}function Dw(i,t,r){const o=Lu(i,r);if(o){const a=Fu(o),c=a.path,f=a.queryId,p=nt(c,t),m=new ji(Ru(f),p);return zu(i,c,m)}else return[]}function lm(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||sm(f,t))){const m=Iw(f,t,r,o);Sw(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!a){const I=_.findIndex(w=>w._queryParams.loadsAllData())!==-1,C=i.syncPointTree_.findOnPath(c,(w,A)=>An(A));if(I&&!C){const w=i.syncPointTree_.subtree(c);if(!w.isEmpty()){const A=Lw(w);for(let L=0;L<A.length;++L){const V=A[L],Q=V.query,Re=dm(i,V);i.listenProvider_.startListening(Li(Q),$i(i,Q),Re.hashFn,Re.onComplete)}}}!C&&_.length>0&&!o&&(I?i.listenProvider_.stopListening(Li(t),null):_.forEach(w=>{const A=i.queryToTagMap.get(Uo(w));i.listenProvider_.stopListening(Li(w),A)}))}Fw(i,_)}return p}function am(i,t,r,o){const a=Lu(i,o);if(a!=null){const c=Fu(a),f=c.path,p=c.queryId,m=nt(f,t),_=new Xn(Ru(p),m,r);return zu(i,f,_)}else return[]}function Aw(i,t,r,o){const a=Lu(i,o);if(a){const c=Fu(a),f=c.path,p=c.queryId,m=nt(f,t),_=ge.fromObject(r),I=new bi(Ru(p),m,_);return zu(i,f,I)}else return[]}function Ow(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(w,A)=>{const L=nt(w,a);c=c||Rn(A,L),f=f||An(A)});let p=i.syncPointTree_.get(a);p?(f=f||An(p),c=c||Rn(p,se())):(p=new tm,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=G.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((A,L)=>{const V=Rn(L,se());V&&(c=c.updateImmediateChild(A,V))}));const _=sm(p,t);if(!_&&!t._queryParams.loadsAllData()){const w=Uo(t);O(!i.queryToTagMap.has(w),"View does not exist, but we have a tag");const A=zw();i.queryToTagMap.set(w,A),i.tagToQueryMap.set(A,w)}const I=Fo(i.pendingWriteTree_,a);let C=kw(p,t,r,I,c,m);if(!_&&!f&&!o){const w=im(p,t);C=C.concat(Uw(i,t,w))}return C}function Mu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=nt(f,t),_=Rn(p,m);if(_)return _});return Yp(a,t,c,r,!0)}function Mw(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(_,I)=>{const C=nt(_,r);o=o||Rn(I,C)});let a=i.syncPointTree_.get(r);a?o=o||Rn(a,se()):(a=new tm,i.syncPointTree_=i.syncPointTree_.set(r,a));const c=o!=null,f=c?new Dn(o,!0,!1):null,p=Fo(i.pendingWriteTree_,t._path),m=nm(a,t,p,c?f.getNode():G.EMPTY_NODE,c);return _w(m)}function Ji(i,t){return um(t,i.syncPointTree_,null,Fo(i.pendingWriteTree_,se()))}function um(i,t,r,o){if(Z(i.path))return cm(i,t,r,o);{const a=t.get(se());r==null&&a!=null&&(r=Rn(a,se()));let c=[];const f=ee(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,I=qp(o,f);c=c.concat(um(p,m,_,I))}return a&&(c=c.concat(Ou(a,i,o,r))),c}}function cm(i,t,r,o){const a=t.get(se());r==null&&a!=null&&(r=Rn(a,se()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=qp(o,f),I=i.operationForChild(f);I&&(c=c.concat(cm(I,p,m,_)))}),a&&(c=c.concat(Ou(a,i,o,r))),c}function dm(i,t){const r=t.query,o=$i(i,r);return{hashFn:()=>(gw(t)||G.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?Dw(i,r._path,o):Pw(i,r._path);{const c=Ov(a,r);return lm(i,r,null,c)}}}}function $i(i,t){const r=Uo(t);return i.queryToTagMap.get(r)}function Uo(i){return i._path.toString()+"$"+i._queryIdentifier}function Lu(i,t){return i.tagToQueryMap.get(t)}function Fu(i){const t=i.indexOf("$");return O(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ue(i.substr(0,t))}}function zu(i,t,r){const o=i.syncPointTree_.get(t);O(o,"Missing sync point for query tag that we're tracking");const a=Fo(i.pendingWriteTree_,t);return Ou(o,r,a,null)}function Lw(i){return i.fold((t,r,o)=>{if(r&&An(r))return[zo(r)];{let a=[];return r&&(a=rm(r)),dt(o,(c,f)=>{a=a.concat(f)}),a}})}function Li(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(Nw())(i._repo,i._path):i}function Fw(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Uo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function zw(){return xw++}function Uw(i,t,r){const o=t._path,a=$i(i,t),c=dm(i,r),f=i.listenProvider_.startListening(Li(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)O(!An(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,I,C)=>{if(!Z(_)&&I&&An(I))return[zo(I).query];{let w=[];return I&&(w=w.concat(rm(I).map(A=>A.query))),dt(C,(A,L)=>{w=w.concat(L)}),w}});for(let _=0;_<m.length;++_){const I=m[_];i.listenProvider_.stopListening(Li(I),$i(i,I))}}return f}class Uu{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Uu(r)}node(){return this.node_}}class Bu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Le(this.path_,t);return new Bu(this.syncTree_,r)}node(){return Mu(this.syncTree_,this.path_)}}const Bw=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Hh=function(i,t,r){if(!i||typeof i!="object")return i;if(O(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return Ww(i[".sv"],t,r);if(typeof i[".sv"]=="object")return Hw(i[".sv"],t);O(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},Ww=function(i,t,r){if(i==="timestamp")return r.timestamp;O(!1,"Unexpected server value: "+i)},Hw=function(i,t,r){i.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&O(!1,"Unexpected increment value: "+o);const a=t.node();if(O(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},Vw=function(i,t,r,o){return Wu(t,new Bu(r,i),o)},fm=function(i,t,r){return Wu(i,new Uu(t),r)};function Wu(i,t,r){const o=i.getPriority().val(),a=Hh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Hh(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new Be(p,He(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new Be(a))),f.forEachChild(ke,(p,m)=>{const _=Wu(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}class Hu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Vu(i,t){let r=t instanceof ue?t:new ue(t),o=i,a=ee(r);for(;a!==null;){const c=Dr(o.node.children,a)||{children:{},childCount:0};o=new Hu(a,o,c),r=he(r),a=ee(r)}return o}function Br(i){return i.node.value}function hm(i,t){i.node.value=t,fu(i)}function pm(i){return i.node.childCount>0}function jw(i){return Br(i)===void 0&&!pm(i)}function Bo(i,t){dt(i.node.children,(r,o)=>{t(new Hu(r,i,o))})}function mm(i,t,r,o){r&&t(i),Bo(i,a=>{mm(a,t,!0)})}function bw(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Zi(i){return new ue(i.parent===null?i.name:Zi(i.parent)+"/"+i.name)}function fu(i){i.parent!==null&&$w(i.parent,i.name,i)}function $w(i,t,r){const o=jw(r),a=rn(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,fu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,fu(i))}const Gw=/[\[\].#$\/\u0000-\u001F\u007F]/,Qw=/[\[\].#$\u0000-\u001F\u007F]/,qa=10*1024*1024,gm=function(i){return typeof i=="string"&&i.length!==0&&!Gw.test(i)},_m=function(i){return typeof i=="string"&&i.length!==0&&!Qw.test(i)},Kw=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),_m(i)},Yw=function(i,t,r,o){ju(yu(i,"value"),t,r)},ju=function(i,t,r){const o=r instanceof ue?new f1(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Qn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Qn(o)+" with contents = "+t.toString());if(fp(t))throw new Error(i+"contains "+t.toString()+" "+Qn(o));if(typeof t=="string"&&t.length>qa/3&&Oo(t)>qa)throw new Error(i+"contains a string greater than "+qa+" utf8 bytes "+Qn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(dt(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!gm(f)))throw new Error(i+" contains an invalid key ("+f+") "+Qn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);h1(o,f),ju(i,p,o),p1(o)}),a&&c)throw new Error(i+' contains ".value" child '+Qn(o)+" in addition to actual children.")}},ym=function(i,t,r,o){if(!_m(r))throw new Error(yu(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qw=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ym(i,t,r)},Xw=function(i,t){if(ee(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},Jw=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!gm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Kw(r))throw new Error(yu(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class Zw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vm(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!Fp(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function jt(i,t,r){vm(i,r),e0(i,o=>Mt(o,t)||Mt(t,o))}function e0(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(t0(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function t0(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Di&&qe("event: "+r.toString()),Ur(o)}}}const n0="repo_interrupt",r0=25;class i0{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new Hu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function s0(i,t,r){if(i.stats_=Eu(i.repoInfo_),i.forceRestClient_||zv())i.server_=new So(i.repoInfo_,(o,a,c,f)=>{Vh(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>jh(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new en(i.repoInfo_,t,(o,a,c,f)=>{Vh(i,o,a,c,f)},o=>{jh(i,o)},o=>{l0(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Vv(i.repoInfo_,()=>new W1(i.stats_,i.server_)),i.infoData_=new L1,i.infoSyncTree_=new Wh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Xi(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),$u(i,"connected",!1),i.serverSyncTree_=new Wh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const _=f(p,m);jt(i.eventQueue_,o._path,_)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function o0(i){const r=i.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function bu(i){return Bw({timestamp:o0(i)})}function Vh(i,t,r,o,a){i.dataUpdateCount++;const c=new ue(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=go(r,_=>He(_));f=Aw(i.serverSyncTree_,c,m,a)}else{const m=He(r);f=am(i.serverSyncTree_,c,m,a)}else if(o){const m=go(r,_=>He(_));f=Rw(i.serverSyncTree_,c,m)}else{const m=He(r);f=Xi(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Ho(i,c)),jt(i.eventQueue_,p,f)}function jh(i,t){$u(i,"connected",t),t===!1&&c0(i)}function l0(i,t){dt(t,(r,o)=>{$u(i,r,o)})}function $u(i,t,r){const o=new ue("/.info/"+t),a=He(r);i.infoData_.updateSnapshot(o,a);const c=Xi(i.infoSyncTree_,o,a);jt(i.eventQueue_,o,c)}function wm(i){return i.nextWriteId_++}function a0(i,t,r){const o=Mw(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(a=>{const c=He(a).withIndex(t._queryParams.getIndex());Ow(i.serverSyncTree_,t,r,!0);let f;if(t._queryParams.loadsAllData())f=Xi(i.serverSyncTree_,t._path,c);else{const p=$i(i.serverSyncTree_,t);f=am(i.serverSyncTree_,t._path,c,p)}return jt(i.eventQueue_,t._path,f),lm(i.serverSyncTree_,t,r,null,!0),c},a=>(Wo(i,"get for query "+Me(t)+" failed: "+a),Promise.reject(new Error(a))))}function u0(i,t,r,o,a){Wo(i,"set",{path:t.toString(),value:r,priority:o});const c=bu(i),f=He(r,o),p=Mu(i.serverSyncTree_,t),m=fm(f,p,c),_=wm(i),I=om(i.serverSyncTree_,t,m,_,!0);vm(i.eventQueue_,I),i.server_.put(t.toString(),f.val(!0),(w,A)=>{const L=w==="ok";L||ct("set at "+t+" failed: "+w);const V=Yn(i.serverSyncTree_,_,!L);jt(i.eventQueue_,t,V),f0(i,a,w,A)});const C=Im(i,t);Ho(i,C),jt(i.eventQueue_,C,[])}function c0(i){Wo(i,"onDisconnectEvents");const t=bu(i),r=ko();lu(i.onDisconnect_,se(),(a,c)=>{const f=Vw(a,c,i.serverSyncTree_,t);bp(r,a,f)});let o=[];lu(r,se(),(a,c)=>{o=o.concat(Xi(i.serverSyncTree_,a,c));const f=Im(i,a);Ho(i,f)}),i.onDisconnect_=ko(),jt(i.eventQueue_,se(),o)}function d0(i){i.persistentConnection_&&i.persistentConnection_.interrupt(n0)}function Wo(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),qe(r,...t)}function f0(i,t,r,o){t&&Ur(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function Cm(i,t,r){return Mu(i.serverSyncTree_,t,r)||G.EMPTY_NODE}function Gu(i,t=i.transactionQueueTree_){if(t||Vo(i,t),Br(t)){const r=Sm(i,t);O(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&h0(i,Zi(t),r)}else pm(t)&&Bo(t,r=>{Gu(i,r)})}function h0(i,t,r){const o=r.map(_=>_.currentWriteId),a=Cm(i,t,o);let c=a;const f=a.hash();for(let _=0;_<r.length;_++){const I=r[_];O(I.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const C=nt(t,I.path);c=c.updateChild(C,I.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{Wo(i,"transaction put response",{path:m.toString(),status:_});let I=[];if(_==="ok"){const C=[];for(let w=0;w<r.length;w++)r[w].status=2,I=I.concat(Yn(i.serverSyncTree_,r[w].currentWriteId)),r[w].onComplete&&C.push(()=>r[w].onComplete(null,!0,r[w].currentOutputSnapshotResolved)),r[w].unwatcher();Vo(i,Vu(i.transactionQueueTree_,t)),Gu(i,i.transactionQueueTree_),jt(i.eventQueue_,t,I);for(let w=0;w<C.length;w++)Ur(C[w])}else{if(_==="datastale")for(let C=0;C<r.length;C++)r[C].status===3?r[C].status=4:r[C].status=0;else{ct("transaction at "+m.toString()+" failed: "+_);for(let C=0;C<r.length;C++)r[C].status=4,r[C].abortReason=_}Ho(i,t)}},f)}function Ho(i,t){const r=Em(i,t),o=Zi(r),a=Sm(i,r);return p0(i,a,o),o}function p0(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=nt(r,m.path);let I=!1,C;if(O(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)I=!0,C=m.abortReason,a=a.concat(Yn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=r0)I=!0,C="maxretry",a=a.concat(Yn(i.serverSyncTree_,m.currentWriteId,!0));else{const w=Cm(i,m.path,f);m.currentInputSnapshot=w;const A=t[p].update(w.val());if(A!==void 0){ju("transaction failed: Data returned ",A,m.path);let L=He(A);typeof A=="object"&&A!=null&&rn(A,".priority")||(L=L.updatePriority(w.getPriority()));const Q=m.currentWriteId,Re=bu(i),Ie=fm(L,w,Re);m.currentOutputSnapshotRaw=L,m.currentOutputSnapshotResolved=Ie,m.currentWriteId=wm(i),f.splice(f.indexOf(Q),1),a=a.concat(om(i.serverSyncTree_,m.path,Ie,m.currentWriteId,m.applyLocally)),a=a.concat(Yn(i.serverSyncTree_,Q,!0))}else I=!0,C="nodata",a=a.concat(Yn(i.serverSyncTree_,m.currentWriteId,!0))}jt(i.eventQueue_,r,a),a=[],I&&(t[p].status=2,(function(w){setTimeout(w,Math.floor(0))})(t[p].unwatcher),t[p].onComplete&&(C==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(C),!1,null))))}Vo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Ur(o[p]);Gu(i,i.transactionQueueTree_)}function Em(i,t){let r,o=i.transactionQueueTree_;for(r=ee(t);r!==null&&Br(o)===void 0;)o=Vu(o,r),t=he(t),r=ee(t);return o}function Sm(i,t){const r=[];return km(i,t,r),r.sort((o,a)=>o.order-a.order),r}function km(i,t,r){const o=Br(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Bo(t,a=>{km(i,a,r)})}function Vo(i,t){const r=Br(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,hm(t,r.length>0?r:void 0)}Bo(t,o=>{Vo(i,o)})}function Im(i,t){const r=Zi(Em(i,t)),o=Vu(i.transactionQueueTree_,t);return bw(o,a=>{Xa(i,a)}),Xa(i,o),mm(o,a=>{Xa(i,a)}),r}function Xa(i,t){const r=Br(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(O(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(O(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(Yn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?hm(t,void 0):r.length=c+1,jt(i.eventQueue_,Zi(t),a);for(let f=0;f<o.length;f++)Ur(o[f])}}function m0(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function g0(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ct(`Invalid query segment '${r}' in query '${i}'`)}return t}const bh=function(i,t){const r=_0(i),o=r.namespace;r.domain==="firebase.com"&&nn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||xv();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new kp(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new ue(r.pathString)}},_0=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let I=i.indexOf("/");I===-1&&(I=i.length);let C=i.indexOf("?");C===-1&&(C=i.length),t=i.substring(0,Math.min(I,C)),I<C&&(a=m0(i.substring(I,C)));const w=g0(i.substring(Math.min(i.length,C)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const A=t.slice(0,_);if(A.toLowerCase()==="localhost")r="localhost";else if(A.split(".").length<=2)r=A;else{const L=t.indexOf(".");o=t.substring(0,L).toLowerCase(),r=t.substring(L+1),c=o}"ns"in w&&(c=w.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};class y0{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Me(this.snapshot.exportVal())}}class v0{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class w0{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Qu{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return Z(this._path)?null:Op(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const t=Rh(this._queryParams),r=wu(t);return r==="{}"?"default":r}get _queryObject(){return Rh(this._queryParams)}isEqual(t){if(t=Fr(t),!(t instanceof Qu))return!1;const r=this._repo===t._repo,o=Fp(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+d1(this._path)}}class sn extends Qu{constructor(t,r){super(t,r,new Nu,!1)}get parent(){const t=Lp(this._path);return t===null?null:new sn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Gi{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ue(t),o=hu(this.ref,t);return new Gi(this._node.getChild(r),o,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Gi(a,hu(this.ref,o),ke)))}hasChild(t){const r=new ue(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $h(i,t){return i=Fr(i),i._checkNotDeleted("ref"),t!==void 0?hu(i._root,t):i._root}function hu(i,t){return i=Fr(i),ee(i._path)===null?qw("child","path",t):ym("child","path",t),new sn(i._repo,Le(i._path,t))}function C0(i,t){i=Fr(i),Xw("set",i._path),Yw("set",t,i._path);const r=new Ao;return u0(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function E0(i){i=Fr(i);const t=new w0(()=>{}),r=new Ku(t);return a0(i._repo,i,r).then(o=>new Gi(o,new sn(i._repo,i._path),i._queryParams.getIndex()))}class Ku{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new y0("value",this,new Gi(t.snapshotNode,new sn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new v0(this,t,r):null}matches(t){return t instanceof Ku?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Cw(sn);Tw(sn);const S0="FIREBASE_DATABASE_EMULATOR_HOST",pu={};let k0=!1;function I0(i,t,r,o){const a=t.lastIndexOf(":"),c=t.substring(0,a),f=_u(c);i.repoInfo_=new kp(t,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,r),o&&(i.authTokenProvider_=o)}function T0(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=bh(c,a),p=f.repoInfo,m;typeof process<"u"&&dh&&(m=dh[S0]),m?(c=`http://${m}?ns=${p.namespace}`,f=bh(c,a),p=f.repoInfo):f.repoInfo.secure;const _=new Bv(i.name,i.options,t);Jw("Invalid Firebase Database URL",f),Z(f.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");const I=x0(p,i,_,new Uv(i,r));return new R0(I,i)}function N0(i,t){const r=pu[t];(!r||r[i.key]!==i)&&nn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),d0(i),delete r[i.key]}function x0(i,t,r,o){let a=pu[t.name];a||(a={},pu[t.name]=a);let c=a[i.toURLString()];return c&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new i0(i,k0,r,o),a[i.toURLString()]=c,c}class R0{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(s0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(N0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&nn("Cannot call "+t+" on a deleted database.")}}function P0(i=uv(),t){const r=iv(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=j_("database");o&&D0(r,...o)}return r}function D0(i,t,r,o={}){i=Fr(i),i._checkNotDeleted("useEmulator");const a=`${t}:${r}`,c=i._repoInternal;if(i._instanceStarted){if(a===i._repoInternal.repoInfo_.host&&_o(o,c.repoInfo_.emulatorOptions))return;nn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(c.repoInfo_.nodeAdmin)o.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new po(po.OWNER);else if(o.mockUserToken){const p=typeof o.mockUserToken=="string"?o.mockUserToken:$_(o.mockUserToken,i.app.options.projectId);f=new po(p)}_u(t)&&(b_(t),K_("Database",!0)),I0(c,a,o,f)}function A0(i){Ev(av),vo(new zi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return T0(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),xr(fh,hh,i),xr(fh,hh,"esm2020")}en.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};en.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};A0();const O0={apiKey:"AIzaSyBPdzE6a6zSmmYKH7C6K0WIgLBXFXrmFiE",authDomain:"impostor-51b31.firebaseapp.com",databaseURL:"https://impostor-51b31-default-rtdb.europe-west1.firebasedatabase.app",projectId:"impostor-51b31",storageBucket:"impostor-51b31.firebasestorage.app",messagingSenderId:"981256146682",appId:"1:981256146682:web:c1278e7d532025b2338343",measurementId:"G-RHJV1115J9"},M0=op(O0),Gh=P0(M0);function L0(){const[i,t]=tt.useState("home"),[r,o]=tt.useState(""),[a,c]=tt.useState(""),[f,p]=tt.useState(""),[m,_]=tt.useState(!1),[I,C]=tt.useState(null),[w,A]=tt.useState(null),[L,V]=tt.useState(null),[Q,Re]=tt.useState(!1),[Ie,Pe]=tt.useState(!1),[Te,Ve]=tt.useState(""),[$e,Xe]=tt.useState(!1),[ft,bt]=tt.useState({}),[zt,on]=tt.useState(!1),vt=async Ce=>{try{const Ee=$h(Gh,`rooms/${Ce}`),oe=await E0(Ee);return oe.exists()?oe.val():null}catch(Ee){return console.error("Error checking room:",Ee),null}},Je=async(Ce,Ee)=>{try{const oe=$h(Gh,`rooms/${Ce}`);await C0(oe,Ee)}catch(oe){throw console.error("Error saving room:",oe),oe}},ht=async()=>{const Ce=await vt(r);if(!Ce){Ve("Sala no encontrada");return}if(Ce.players.length<2){Ve("Mnimo 2 jugadores para comenzar");return}if(Ce.settings.impostorCount>=Ce.players.length){Ve("Debe haber al menos 1 tripulante");return}if(!Ce.selectedCategories||Ce.selectedCategories.length===0){Ve("Selecciona al menos una categora");return}try{await Je(r,Ce),t("game")}catch(Ee){console.error("Error al iniciar partida:",Ee),Ve("Error al iniciar la partida. Revisa las reglas de Firebase.")}};m&&(Tr.Fragment,I?.players.length,(I?.players.length||0)<2,(I?.players.length||0)<2)}A_.createRoot(document.getElementById("root")).render(Tr.jsx(I_.StrictMode,{children:Tr.jsx(L0,{})}));
